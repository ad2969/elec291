0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1034 (May  5 2015) (MSVC)
0000              4   ; This file was generated Wed Mar 13 01:59:31 2019
0000              5   ;--------------------------------------------------------
                  5   $name Program
                  6   $optc51 --model-small
                  7   $printf_float
0000              9            R_DSEG    segment data
0000             10            R_CSEG    segment code
0000             11            R_BSEG    segment bit
0000             12            R_XSEG    segment xdata
0000             13            R_PSEG    segment xdata
0000             14            R_ISEG    segment idata
0000             15            R_OSEG    segment data overlay
0000             16            BIT_BANK  segment data overlay
0000             17            R_HOME    segment code
0000             18            R_GSINIT  segment code
0000             19            R_IXSEG   segment xdata
0000             20            R_CONST   segment code
0000             21            R_XINIT   segment code
0000             22            R_DINIT   segment code
0000             23   
0000             24   ;--------------------------------------------------------
0000             25   ; Public variables in this module
0000             26   ;--------------------------------------------------------
0000             27            public _main
0000             28            public _getAngle
0000             29            public _Timer2_ISR
0000             30            public __c51_external_startup
0000             31            public _waitms
0000             32            public _Timer3us
0000             33            public _getAngle_PARM_3
0000             34            public _getAngle_PARM_2
0000             35            public _current_angle
0000             36            public _PWM_TIME
0000             37            public _PWM_OFF
0000             38            public _PWM_MODE
0000             39            public _PWM_LIMIT
0000             40            public _PWM_TURN
0000             41            public _pwm_count
0000             42            public _count_angle
0000             43            public _centiseconds
0000             44   ;--------------------------------------------------------
0000             45   ; Special Function Registers
0000             46   ;--------------------------------------------------------
0000             47   _ACC            DATA 0xe0
0000             48   _ADC0ASAH       DATA 0xb6
0000             49   _ADC0ASAL       DATA 0xb5
0000             50   _ADC0ASCF       DATA 0xa1
0000             51   _ADC0ASCT       DATA 0xc7
0000             52   _ADC0CF0        DATA 0xbc
0000             53   _ADC0CF1        DATA 0xb9
0000             54   _ADC0CF2        DATA 0xdf
0000             55   _ADC0CN0        DATA 0xe8
0000             56   _ADC0CN1        DATA 0xb2
0000             57   _ADC0CN2        DATA 0xb3
0000             58   _ADC0GTH        DATA 0xc4
0000             59   _ADC0GTL        DATA 0xc3
0000             60   _ADC0H          DATA 0xbe
0000             61   _ADC0L          DATA 0xbd
0000             62   _ADC0LTH        DATA 0xc6
0000             63   _ADC0LTL        DATA 0xc5
0000             64   _ADC0MX         DATA 0xbb
0000             65   _B              DATA 0xf0
0000             66   _CKCON0         DATA 0x8e
0000             67   _CKCON1         DATA 0xa6
0000             68   _CLEN0          DATA 0xc6
0000             69   _CLIE0          DATA 0xc7
0000             70   _CLIF0          DATA 0xe8
0000             71   _CLKSEL         DATA 0xa9
0000             72   _CLOUT0         DATA 0xd1
0000             73   _CLU0CF         DATA 0xb1
0000             74   _CLU0FN         DATA 0xaf
0000             75   _CLU0MX         DATA 0x84
0000             76   _CLU1CF         DATA 0xb3
0000             77   _CLU1FN         DATA 0xb2
0000             78   _CLU1MX         DATA 0x85
0000             79   _CLU2CF         DATA 0xb6
0000             80   _CLU2FN         DATA 0xb5
0000             81   _CLU2MX         DATA 0x91
0000             82   _CLU3CF         DATA 0xbf
0000             83   _CLU3FN         DATA 0xbe
0000             84   _CLU3MX         DATA 0xae
0000             85   _CMP0CN0        DATA 0x9b
0000             86   _CMP0CN1        DATA 0x99
0000             87   _CMP0MD         DATA 0x9d
0000             88   _CMP0MX         DATA 0x9f
0000             89   _CMP1CN0        DATA 0xbf
0000             90   _CMP1CN1        DATA 0xac
0000             91   _CMP1MD         DATA 0xab
0000             92   _CMP1MX         DATA 0xaa
0000             93   _CRC0CN0        DATA 0xce
0000             94   _CRC0CN1        DATA 0x86
0000             95   _CRC0CNT        DATA 0xd3
0000             96   _CRC0DAT        DATA 0xcb
0000             97   _CRC0FLIP       DATA 0xcf
0000             98   _CRC0IN         DATA 0xca
0000             99   _CRC0ST         DATA 0xd2
0000            100   _DAC0CF0        DATA 0x91
0000            101   _DAC0CF1        DATA 0x92
0000            102   _DAC0H          DATA 0x85
0000            103   _DAC0L          DATA 0x84
0000            104   _DAC1CF0        DATA 0x93
0000            105   _DAC1CF1        DATA 0x94
0000            106   _DAC1H          DATA 0x8a
0000            107   _DAC1L          DATA 0x89
0000            108   _DAC2CF0        DATA 0x95
0000            109   _DAC2CF1        DATA 0x96
0000            110   _DAC2H          DATA 0x8c
0000            111   _DAC2L          DATA 0x8b
0000            112   _DAC3CF0        DATA 0x9a
0000            113   _DAC3CF1        DATA 0x9c
0000            114   _DAC3H          DATA 0x8e
0000            115   _DAC3L          DATA 0x8d
0000            116   _DACGCF0        DATA 0x88
0000            117   _DACGCF1        DATA 0x98
0000            118   _DACGCF2        DATA 0xa2
0000            119   _DERIVID        DATA 0xad
0000            120   _DEVICEID       DATA 0xb5
0000            121   _DPH            DATA 0x83
0000            122   _DPL            DATA 0x82
0000            123   _EIE1           DATA 0xe6
0000            124   _EIE2           DATA 0xf3
0000            125   _EIP1           DATA 0xbb
0000            126   _EIP1H          DATA 0xee
0000            127   _EIP2           DATA 0xed
0000            128   _EIP2H          DATA 0xf6
0000            129   _EMI0CN         DATA 0xe7
0000            130   _FLKEY          DATA 0xb7
0000            131   _HFO0CAL        DATA 0xc7
0000            132   _HFO1CAL        DATA 0xd6
0000            133   _HFOCN          DATA 0xef
0000            134   _I2C0ADM        DATA 0xff
0000            135   _I2C0CN0        DATA 0xba
0000            136   _I2C0DIN        DATA 0xbc
0000            137   _I2C0DOUT       DATA 0xbb
0000            138   _I2C0FCN0       DATA 0xad
0000            139   _I2C0FCN1       DATA 0xab
0000            140   _I2C0FCT        DATA 0xf5
0000            141   _I2C0SLAD       DATA 0xbd
0000            142   _I2C0STAT       DATA 0xb9
0000            143   _IE             DATA 0xa8
0000            144   _IP             DATA 0xb8
0000            145   _IPH            DATA 0xf2
0000            146   _IT01CF         DATA 0xe4
0000            147   _LFO0CN         DATA 0xb1
0000            148   _P0             DATA 0x80
0000            149   _P0MASK         DATA 0xfe
0000            150   _P0MAT          DATA 0xfd
0000            151   _P0MDIN         DATA 0xf1
0000            152   _P0MDOUT        DATA 0xa4
0000            153   _P0SKIP         DATA 0xd4
0000            154   _P1             DATA 0x90
0000            155   _P1MASK         DATA 0xee
0000            156   _P1MAT          DATA 0xed
0000            157   _P1MDIN         DATA 0xf2
0000            158   _P1MDOUT        DATA 0xa5
0000            159   _P1SKIP         DATA 0xd5
0000            160   _P2             DATA 0xa0
0000            161   _P2MASK         DATA 0xfc
0000            162   _P2MAT          DATA 0xfb
0000            163   _P2MDIN         DATA 0xf3
0000            164   _P2MDOUT        DATA 0xa6
0000            165   _P2SKIP         DATA 0xcc
0000            166   _P3             DATA 0xb0
0000            167   _P3MDIN         DATA 0xf4
0000            168   _P3MDOUT        DATA 0x9c
0000            169   _PCA0CENT       DATA 0x9e
0000            170   _PCA0CLR        DATA 0x9c
0000            171   _PCA0CN0        DATA 0xd8
0000            172   _PCA0CPH0       DATA 0xfc
0000            173   _PCA0CPH1       DATA 0xea
0000            174   _PCA0CPH2       DATA 0xec
0000            175   _PCA0CPH3       DATA 0xf5
0000            176   _PCA0CPH4       DATA 0x85
0000            177   _PCA0CPH5       DATA 0xde
0000            178   _PCA0CPL0       DATA 0xfb
0000            179   _PCA0CPL1       DATA 0xe9
0000            180   _PCA0CPL2       DATA 0xeb
0000            181   _PCA0CPL3       DATA 0xf4
0000            182   _PCA0CPL4       DATA 0x84
0000            183   _PCA0CPL5       DATA 0xdd
0000            184   _PCA0CPM0       DATA 0xda
0000            185   _PCA0CPM1       DATA 0xdb
0000            186   _PCA0CPM2       DATA 0xdc
0000            187   _PCA0CPM3       DATA 0xae
0000            188   _PCA0CPM4       DATA 0xaf
0000            189   _PCA0CPM5       DATA 0xcc
0000            190   _PCA0H          DATA 0xfa
0000            191   _PCA0L          DATA 0xf9
0000            192   _PCA0MD         DATA 0xd9
0000            193   _PCA0POL        DATA 0x96
0000            194   _PCA0PWM        DATA 0xf7
0000            195   _PCON0          DATA 0x87
0000            196   _PCON1          DATA 0xcd
0000            197   _PFE0CN         DATA 0xc1
0000            198   _PRTDRV         DATA 0xf6
0000            199   _PSCTL          DATA 0x8f
0000            200   _PSTAT0         DATA 0xaa
0000            201   _PSW            DATA 0xd0
0000            202   _REF0CN         DATA 0xd1
0000            203   _REG0CN         DATA 0xc9
0000            204   _REVID          DATA 0xb6
0000            205   _RSTSRC         DATA 0xef
0000            206   _SBCON1         DATA 0x94
0000            207   _SBRLH1         DATA 0x96
0000            208   _SBRLL1         DATA 0x95
0000            209   _SBUF           DATA 0x99
0000            210   _SBUF0          DATA 0x99
0000            211   _SBUF1          DATA 0x92
0000            212   _SCON           DATA 0x98
0000            213   _SCON0          DATA 0x98
0000            214   _SCON1          DATA 0xc8
0000            215   _SFRPAGE        DATA 0xa7
0000            216   _SFRPGCN        DATA 0xbc
0000            217   _SFRSTACK       DATA 0xd7
0000            218   _SMB0ADM        DATA 0xd6
0000            219   _SMB0ADR        DATA 0xd7
0000            220   _SMB0CF         DATA 0xc1
0000            221   _SMB0CN0        DATA 0xc0
0000            222   _SMB0DAT        DATA 0xc2
0000            223   _SMB0FCN0       DATA 0xc3
0000            224   _SMB0FCN1       DATA 0xc4
0000            225   _SMB0FCT        DATA 0xef
0000            226   _SMB0RXLN       DATA 0xc5
0000            227   _SMB0TC         DATA 0xac
0000            228   _SMOD1          DATA 0x93
0000            229   _SP             DATA 0x81
0000            230   _SPI0CFG        DATA 0xa1
0000            231   _SPI0CKR        DATA 0xa2
0000            232   _SPI0CN0        DATA 0xf8
0000            233   _SPI0DAT        DATA 0xa3
0000            234   _SPI0FCN0       DATA 0x9a
0000            235   _SPI0FCN1       DATA 0x9b
0000            236   _SPI0FCT        DATA 0xf7
0000            237   _SPI0PCF        DATA 0xdf
0000            238   _TCON           DATA 0x88
0000            239   _TH0            DATA 0x8c
0000            240   _TH1            DATA 0x8d
0000            241   _TL0            DATA 0x8a
0000            242   _TL1            DATA 0x8b
0000            243   _TMOD           DATA 0x89
0000            244   _TMR2CN0        DATA 0xc8
0000            245   _TMR2CN1        DATA 0xfd
0000            246   _TMR2H          DATA 0xcf
0000            247   _TMR2L          DATA 0xce
0000            248   _TMR2RLH        DATA 0xcb
0000            249   _TMR2RLL        DATA 0xca
0000            250   _TMR3CN0        DATA 0x91
0000            251   _TMR3CN1        DATA 0xfe
0000            252   _TMR3H          DATA 0x95
0000            253   _TMR3L          DATA 0x94
0000            254   _TMR3RLH        DATA 0x93
0000            255   _TMR3RLL        DATA 0x92
0000            256   _TMR4CN0        DATA 0x98
0000            257   _TMR4CN1        DATA 0xff
0000            258   _TMR4H          DATA 0xa5
0000            259   _TMR4L          DATA 0xa4
0000            260   _TMR4RLH        DATA 0xa3
0000            261   _TMR4RLL        DATA 0xa2
0000            262   _TMR5CN0        DATA 0xc0
0000            263   _TMR5CN1        DATA 0xf1
0000            264   _TMR5H          DATA 0xd5
0000            265   _TMR5L          DATA 0xd4
0000            266   _TMR5RLH        DATA 0xd3
0000            267   _TMR5RLL        DATA 0xd2
0000            268   _UART0PCF       DATA 0xd9
0000            269   _UART1FCN0      DATA 0x9d
0000            270   _UART1FCN1      DATA 0xd8
0000            271   _UART1FCT       DATA 0xfa
0000            272   _UART1LIN       DATA 0x9e
0000            273   _UART1PCF       DATA 0xda
0000            274   _VDM0CN         DATA 0xff
0000            275   _WDTCN          DATA 0x97
0000            276   _XBR0           DATA 0xe1
0000            277   _XBR1           DATA 0xe2
0000            278   _XBR2           DATA 0xe3
0000            279   _XOSC0CN        DATA 0x86
0000            280   _DPTR           DATA 0x8382
0000            281   _TMR2RL         DATA 0xcbca
0000            282   _TMR3RL         DATA 0x9392
0000            283   _TMR4RL         DATA 0xa3a2
0000            284   _TMR5RL         DATA 0xd3d2
0000            285   _TMR0           DATA 0x8c8a
0000            286   _TMR1           DATA 0x8d8b
0000            287   _TMR2           DATA 0xcfce
0000            288   _TMR3           DATA 0x9594
0000            289   _TMR4           DATA 0xa5a4
0000            290   _TMR5           DATA 0xd5d4
0000            291   _SBRL1          DATA 0x9695
0000            292   _PCA0           DATA 0xfaf9
0000            293   _PCA0CP0        DATA 0xfcfb
0000            294   _PCA0CP1        DATA 0xeae9
0000            295   _PCA0CP2        DATA 0xeceb
0000            296   _PCA0CP3        DATA 0xf5f4
0000            297   _PCA0CP4        DATA 0x8584
0000            298   _PCA0CP5        DATA 0xdedd
0000            299   _ADC0ASA        DATA 0xb6b5
0000            300   _ADC0GT         DATA 0xc4c3
0000            301   _ADC0           DATA 0xbebd
0000            302   _ADC0LT         DATA 0xc6c5
0000            303   _DAC0           DATA 0x8584
0000            304   _DAC1           DATA 0x8a89
0000            305   _DAC2           DATA 0x8c8b
0000            306   _DAC3           DATA 0x8e8d
0000            307   ;--------------------------------------------------------
0000            308   ; special function bits
0000            309   ;--------------------------------------------------------
0000            310   _ACC_0          BIT 0xe0
0000            311   _ACC_1          BIT 0xe1
0000            312   _ACC_2          BIT 0xe2
0000            313   _ACC_3          BIT 0xe3
0000            314   _ACC_4          BIT 0xe4
0000            315   _ACC_5          BIT 0xe5
0000            316   _ACC_6          BIT 0xe6
0000            317   _ACC_7          BIT 0xe7
0000            318   _TEMPE          BIT 0xe8
0000            319   _ADGN0          BIT 0xe9
0000            320   _ADGN1          BIT 0xea
0000            321   _ADWINT         BIT 0xeb
0000            322   _ADBUSY         BIT 0xec
0000            323   _ADINT          BIT 0xed
0000            324   _IPOEN          BIT 0xee
0000            325   _ADEN           BIT 0xef
0000            326   _B_0            BIT 0xf0
0000            327   _B_1            BIT 0xf1
0000            328   _B_2            BIT 0xf2
0000            329   _B_3            BIT 0xf3
0000            330   _B_4            BIT 0xf4
0000            331   _B_5            BIT 0xf5
0000            332   _B_6            BIT 0xf6
0000            333   _B_7            BIT 0xf7
0000            334   _C0FIF          BIT 0xe8
0000            335   _C0RIF          BIT 0xe9
0000            336   _C1FIF          BIT 0xea
0000            337   _C1RIF          BIT 0xeb
0000            338   _C2FIF          BIT 0xec
0000            339   _C2RIF          BIT 0xed
0000            340   _C3FIF          BIT 0xee
0000            341   _C3RIF          BIT 0xef
0000            342   _D1SRC0         BIT 0x88
0000            343   _D1SRC1         BIT 0x89
0000            344   _D1AMEN         BIT 0x8a
0000            345   _D01REFSL       BIT 0x8b
0000            346   _D3SRC0         BIT 0x8c
0000            347   _D3SRC1         BIT 0x8d
0000            348   _D3AMEN         BIT 0x8e
0000            349   _D23REFSL       BIT 0x8f
0000            350   _D0UDIS         BIT 0x98
0000            351   _D1UDIS         BIT 0x99
0000            352   _D2UDIS         BIT 0x9a
0000            353   _D3UDIS         BIT 0x9b
0000            354   _EX0            BIT 0xa8
0000            355   _ET0            BIT 0xa9
0000            356   _EX1            BIT 0xaa
0000            357   _ET1            BIT 0xab
0000            358   _ES0            BIT 0xac
0000            359   _ET2            BIT 0xad
0000            360   _ESPI0          BIT 0xae
0000            361   _EA             BIT 0xaf
0000            362   _PX0            BIT 0xb8
0000            363   _PT0            BIT 0xb9
0000            364   _PX1            BIT 0xba
0000            365   _PT1            BIT 0xbb
0000            366   _PS0            BIT 0xbc
0000            367   _PT2            BIT 0xbd
0000            368   _PSPI0          BIT 0xbe
0000            369   _P0_0           BIT 0x80
0000            370   _P0_1           BIT 0x81
0000            371   _P0_2           BIT 0x82
0000            372   _P0_3           BIT 0x83
0000            373   _P0_4           BIT 0x84
0000            374   _P0_5           BIT 0x85
0000            375   _P0_6           BIT 0x86
0000            376   _P0_7           BIT 0x87
0000            377   _P1_0           BIT 0x90
0000            378   _P1_1           BIT 0x91
0000            379   _P1_2           BIT 0x92
0000            380   _P1_3           BIT 0x93
0000            381   _P1_4           BIT 0x94
0000            382   _P1_5           BIT 0x95
0000            383   _P1_6           BIT 0x96
0000            384   _P1_7           BIT 0x97
0000            385   _P2_0           BIT 0xa0
0000            386   _P2_1           BIT 0xa1
0000            387   _P2_2           BIT 0xa2
0000            388   _P2_3           BIT 0xa3
0000            389   _P2_4           BIT 0xa4
0000            390   _P2_5           BIT 0xa5
0000            391   _P2_6           BIT 0xa6
0000            392   _P3_0           BIT 0xb0
0000            393   _P3_1           BIT 0xb1
0000            394   _P3_2           BIT 0xb2
0000            395   _P3_3           BIT 0xb3
0000            396   _P3_4           BIT 0xb4
0000            397   _P3_7           BIT 0xb7
0000            398   _CCF0           BIT 0xd8
0000            399   _CCF1           BIT 0xd9
0000            400   _CCF2           BIT 0xda
0000            401   _CCF3           BIT 0xdb
0000            402   _CCF4           BIT 0xdc
0000            403   _CCF5           BIT 0xdd
0000            404   _CR             BIT 0xde
0000            405   _CF             BIT 0xdf
0000            406   _PARITY         BIT 0xd0
0000            407   _F1             BIT 0xd1
0000            408   _OV             BIT 0xd2
0000            409   _RS0            BIT 0xd3
0000            410   _RS1            BIT 0xd4
0000            411   _F0             BIT 0xd5
0000            412   _AC             BIT 0xd6
0000            413   _CY             BIT 0xd7
0000            414   _RI             BIT 0x98
0000            415   _TI             BIT 0x99
0000            416   _RB8            BIT 0x9a
0000            417   _TB8            BIT 0x9b
0000            418   _REN            BIT 0x9c
0000            419   _CE             BIT 0x9d
0000            420   _SMODE          BIT 0x9e
0000            421   _RI1            BIT 0xc8
0000            422   _TI1            BIT 0xc9
0000            423   _RBX1           BIT 0xca
0000            424   _TBX1           BIT 0xcb
0000            425   _REN1           BIT 0xcc
0000            426   _PERR1          BIT 0xcd
0000            427   _OVR1           BIT 0xce
0000            428   _SI             BIT 0xc0
0000            429   _ACK            BIT 0xc1
0000            430   _ARBLOST        BIT 0xc2
0000            431   _ACKRQ          BIT 0xc3
0000            432   _STO            BIT 0xc4
0000            433   _STA            BIT 0xc5
0000            434   _TXMODE         BIT 0xc6
0000            435   _MASTER         BIT 0xc7
0000            436   _SPIEN          BIT 0xf8
0000            437   _TXNF           BIT 0xf9
0000            438   _NSSMD0         BIT 0xfa
0000            439   _NSSMD1         BIT 0xfb
0000            440   _RXOVRN         BIT 0xfc
0000            441   _MODF           BIT 0xfd
0000            442   _WCOL           BIT 0xfe
0000            443   _SPIF           BIT 0xff
0000            444   _IT0            BIT 0x88
0000            445   _IE0            BIT 0x89
0000            446   _IT1            BIT 0x8a
0000            447   _IE1            BIT 0x8b
0000            448   _TR0            BIT 0x8c
0000            449   _TF0            BIT 0x8d
0000            450   _TR1            BIT 0x8e
0000            451   _TF1            BIT 0x8f
0000            452   _T2XCLK0        BIT 0xc8
0000            453   _T2XCLK1        BIT 0xc9
0000            454   _TR2            BIT 0xca
0000            455   _T2SPLIT        BIT 0xcb
0000            456   _TF2CEN         BIT 0xcc
0000            457   _TF2LEN         BIT 0xcd
0000            458   _TF2L           BIT 0xce
0000            459   _TF2H           BIT 0xcf
0000            460   _T4XCLK0        BIT 0x98
0000            461   _T4XCLK1        BIT 0x99
0000            462   _TR4            BIT 0x9a
0000            463   _T4SPLIT        BIT 0x9b
0000            464   _TF4CEN         BIT 0x9c
0000            465   _TF4LEN         BIT 0x9d
0000            466   _TF4L           BIT 0x9e
0000            467   _TF4H           BIT 0x9f
0000            468   _T5XCLK0        BIT 0xc0
0000            469   _T5XCLK1        BIT 0xc1
0000            470   _TR5            BIT 0xc2
0000            471   _T5SPLIT        BIT 0xc3
0000            472   _TF5CEN         BIT 0xc4
0000            473   _TF5LEN         BIT 0xc5
0000            474   _TF5L           BIT 0xc6
0000            475   _TF5H           BIT 0xc7
0000            476   _RIE            BIT 0xd8
0000            477   _RXTO0          BIT 0xd9
0000            478   _RXTO1          BIT 0xda
0000            479   _RFRQ           BIT 0xdb
0000            480   _TIE            BIT 0xdc
0000            481   _TXHOLD         BIT 0xdd
0000            482   _TXNF1          BIT 0xde
0000            483   _TFRQ           BIT 0xdf
0000            484   ;--------------------------------------------------------
0000            485   ; overlayable register banks
0000            486   ;--------------------------------------------------------
0000            487            rbank0 segment data overlay
0000            488   ;--------------------------------------------------------
0000            489   ; overlayable bit register bank
0000            490   ;--------------------------------------------------------
0000            491            rseg BIT_BANK
0000            492   bits:
0000            493            ds 1
0001            494            b0 equ  bits.0 
0001            495            b1 equ  bits.1 
0001            496            b2 equ  bits.2 
0001            497            b3 equ  bits.3 
0001            498            b4 equ  bits.4 
0001            499            b5 equ  bits.5 
0001            500            b6 equ  bits.6 
0001            501            b7 equ  bits.7 
0001            502   ;--------------------------------------------------------
0001            503   ; internal ram data
0001            504   ;--------------------------------------------------------
0000            505            rseg R_DSEG
0000            506   _centiseconds:
0000            507            ds 4
0004            508   _count_angle:
0004            509            ds 2
0006            510   _pwm_count:
0006            511            ds 1
0007            512   _PWM_TURN:
0007            513            ds 2
0009            514   _PWM_LIMIT:
0009            515            ds 2
000B            516   _PWM_MODE:
000B            517            ds 2
000D            518   _PWM_OFF:
000D            519            ds 2
000F            520   _PWM_TIME:
000F            521            ds 2
0011            522   _current_angle:
0011            523            ds 2
0013            524   _getAngle_PARM_2:
0013            525            ds 4
0017            526   _getAngle_PARM_3:
0017            527            ds 2
0019            528   _getAngle_current_angle_1_54:
0019            529            ds 2
001B            530   _getAngle_sloc0_1_0:
001B            531            ds 4
001F            532   _main_temp_1_58:
001F            533            ds 2
0021            534   _main_direction_1_58:
0021            535            ds 2
0023            536   _main_sloc0_1_0:
0023            537            ds 4
0027            538   _main_sloc1_1_0:
0027            539            ds 4
002B            540   ;--------------------------------------------------------
002B            541   ; overlayable items in internal ram 
002B            542   ;--------------------------------------------------------
0000            543            rseg    R_OSEG
0000            544   ;--------------------------------------------------------
0000            545   ; indirectly addressable internal ram data
0000            546   ;--------------------------------------------------------
0000            547            rseg R_ISEG
0000            548   ;--------------------------------------------------------
0000            549   ; absolute internal ram data
0000            550   ;--------------------------------------------------------
0000            551            DSEG
0000            552   ;--------------------------------------------------------
0000            553   ; bit data
0000            554   ;--------------------------------------------------------
0000            555            rseg R_BSEG
0000            556   _Timer2_ISR_sloc0_1_0:
0000            557            DBIT    1
0001            558   ;--------------------------------------------------------
0001            559   ; paged external ram data
0001            560   ;--------------------------------------------------------
0000            561            rseg R_PSEG
0000            562   ;--------------------------------------------------------
0000            563   ; external ram data
0000            564   ;--------------------------------------------------------
0000            565            rseg R_XSEG
0000            566   ;--------------------------------------------------------
0000            567   ; absolute external ram data
0000            568   ;--------------------------------------------------------
0000            569            XSEG
0000            570   ;--------------------------------------------------------
0000            571   ; external initialized ram data
0000            572   ;--------------------------------------------------------
0000            573            rseg R_IXSEG
0000            574            rseg R_HOME
0000            575            rseg R_GSINIT
0000            576            rseg R_CSEG
0000            577   ;--------------------------------------------------------
0000            578   ; Reset entry point and interrupt vectors
0000            579   ;--------------------------------------------------------
0000            580            CSEG at 0x0000
0000 020100     581            ljmp    _crt0
002B            582            CSEG at 0x002b
002B 020100     583            ljmp    _Timer2_ISR
002E            584   ;--------------------------------------------------------
002E            585   ; global & static initialisations
002E            586   ;--------------------------------------------------------
0000            587            rseg R_HOME
0000            588            rseg R_GSINIT
0000            589            rseg R_GSINIT
0000            590   ;--------------------------------------------------------
0000            591   ; data variables initialization
0000            592   ;--------------------------------------------------------
0000            593            rseg R_DINIT
0000            594   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:19: volatile double centiseconds=0;
0000 758000     595            mov     _centiseconds,#0x00
0003 758100     596            mov     (_centiseconds + 1),#0x00
0006 758200     597            mov     (_centiseconds + 2),#0x00
0009 758300     598            mov     (_centiseconds + 3),#0x00
000C            599   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:20: volatile unsigned int count_angle=0;
000C E4         600            clr     a
000D F540       601            mov     _count_angle,a
000F F541       602            mov     (_count_angle + 1),a
0011            603   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:21: volatile unsigned char pwm_count=0;
0011 750000     604            mov     _pwm_count,#0x00
0014            605   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:22: volatile unsigned int PWM_TURN=50;
0014 75C032     606            mov     _PWM_TURN,#0x32
0017 E4         607            clr     a
0018 F5C1       608            mov     (_PWM_TURN + 1),a
001A            609   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:23: volatile unsigned int PWM_LIMIT=100;
001A 758064     610            mov     _PWM_LIMIT,#0x64
001D E4         611            clr     a
001E F581       612            mov     (_PWM_LIMIT + 1),a
0020            613   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:24: volatile unsigned int PWM_MODE=0;
0020 E4         614            clr     a
0021 F540       615            mov     _PWM_MODE,a
0023 F541       616            mov     (_PWM_MODE + 1),a
0025            617   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:25: volatile unsigned int PWM_OFF=1;
0025 750001     618            mov     _PWM_OFF,#0x01
0028 E4         619            clr     a
0029 F501       620            mov     (_PWM_OFF + 1),a
002B            621   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:26: volatile unsigned int PWM_TIME=0;
002B E4         622            clr     a
002C F5C0       623            mov     _PWM_TIME,a
002E F5C1       624            mov     (_PWM_TIME + 1),a
0030            625   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:27: volatile unsigned int current_angle=0;
0030 E4         626            clr     a
0031 F580       627            mov     _current_angle,a
0033 F581       628            mov     (_current_angle + 1),a
0035            629            ; The linker places a 'ret' at the end of segment R_DINIT.
0035            630   ;--------------------------------------------------------
0035            631   ; code
0035            632   ;--------------------------------------------------------
0000            633            rseg R_CSEG
0000            634   ;------------------------------------------------------------
0000            635   ;Allocation info for local variables in function 'Timer3us'
0000            636   ;------------------------------------------------------------
0000            637   ;us                        Allocated to registers r2 
0000            638   ;i                         Allocated to registers r3 
0000            639   ;------------------------------------------------------------
0000            640   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:7: void Timer3us(unsigned char us)
0000            641   ;        -----------------------------------------
0000            642   ;         function Timer3us
0000            643   ;        -----------------------------------------
0000            644   _Timer3us:
0000            645            using   0
0000 AA82       646            mov     r2,dpl
0002            647   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:12: CKCON0|=0b_0100_0000;
0002 438E40     648            orl     _CKCON0,#0x40
0005            649   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:14: TMR3RL = (-(SYSCLK)/1000000L); // Set Timer3 to overflow in 1us.
0005 7592B8     650            mov     _TMR3RL,#0xB8
0008 7593FF     651            mov     (_TMR3RL >> 8),#0xFF
000B            652   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:15: TMR3 = TMR3RL;                 // Initialize Timer3 for first overflow
000B 859294     653            mov     _TMR3,_TMR3RL
000E 859395     654            mov     (_TMR3 >> 8),(_TMR3RL >> 8)
0011            655   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:17: TMR3CN0 = 0x04;                 // Sart Timer3 and clear overflow flag
0011 759104     656            mov     _TMR3CN0,#0x04
0014            657   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:18: for (i = 0; i < us; i++)       // Count <us> overflows
0014 7B00       658            mov     r3,#0x00
0016            659   L002004?:
0016 C3         660            clr     c
0017 EB         661            mov     a,r3
0018 9A         662            subb    a,r2
0019 5001       663            jnc     L002007?
001B            664   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:20: while (!(TMR3CN0 & 0x80));  // Wait for overflow
001B            665   L002001?:
001B E591       666            mov     a,_TMR3CN0
001D 30E798     667            jnb     acc.7,L002001?
0020            668   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:21: TMR3CN0 &= ~(0x80);         // Clear overflow indicator
0020 53917F     669            anl     _TMR3CN0,#0x7F
0023            670   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:18: for (i = 0; i < us; i++)       // Count <us> overflows
0023 0B         671            inc     r3
0024 8001       672            sjmp    L002004?
0026            673   L002007?:
0026            674   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:23: TMR3CN0 = 0 ;                   // Stop Timer3 and clear overflow flag
0026 759100     675            mov     _TMR3CN0,#0x00
0029 22         676            ret
002A            677   ;------------------------------------------------------------
002A            678   ;Allocation info for local variables in function 'waitms'
002A            679   ;------------------------------------------------------------
002A            680   ;ms                        Allocated to registers r2 r3 
002A            681   ;j                         Allocated to registers r4 r5 
002A            682   ;k                         Allocated to registers r6 
002A            683   ;------------------------------------------------------------
002A            684   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:26: void waitms (unsigned int ms)
002A            685   ;        -----------------------------------------
002A            686   ;         function waitms
002A            687   ;        -----------------------------------------
002A            688   _waitms:
002A AA82       689            mov     r2,dpl
002C AB83       690            mov     r3,dph
002E            691   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:30: for(j=0; j<ms; j++)
002E 7C00       692            mov     r4,#0x00
0030 7D00       693            mov     r5,#0x00
0032            694   L003005?:
0032 C3         695            clr     c
0033 EC         696            mov     a,r4
0034 9A         697            subb    a,r2
0035 ED         698            mov     a,r5
0036 9B         699            subb    a,r3
0037 5001       700            jnc     L003009?
0039            701   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:31: for (k=0; k<4; k++) Timer3us(250);
0039 7E00       702            mov     r6,#0x00
003B            703   L003001?:
003B BE0418     704            cjne    r6,#0x04,L003018?
003E            705   L003018?:
003E 5001       706            jnc     L003007?
0040 7582FA     707            mov     dpl,#0xFA
0043 C002       708            push    ar2
0045 C003       709            push    ar3
0047 C004       710            push    ar4
0049 C005       711            push    ar5
004B C006       712            push    ar6
004D 120100     713            lcall   _Timer3us
0050 D006       714            pop     ar6
0052 D005       715            pop     ar5
0054 D004       716            pop     ar4
0056 D003       717            pop     ar3
0058 D002       718            pop     ar2
005A 0E         719            inc     r6
005B 8001       720            sjmp    L003001?
005D            721   L003007?:
005D            722   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\/Timer3Wait.c:30: for(j=0; j<ms; j++)
005D 0C         723            inc     r4
005E BC0058     724            cjne    r4,#0x00,L003005?
0061 0D         725            inc     r5
0062 8001       726            sjmp    L003005?
0064            727   L003009?:
0064 22         728            ret
0065            729   ;------------------------------------------------------------
0065            730   ;Allocation info for local variables in function '_c51_external_startup'
0065            731   ;------------------------------------------------------------
0065            732   ;------------------------------------------------------------
0065            733   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:29: char _c51_external_startup (void)
0065            734   ;        -----------------------------------------
0065            735   ;         function _c51_external_startup
0065            736   ;        -----------------------------------------
0065            737   __c51_external_startup:
0065            738   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:32: SFRPAGE = 0x00;
0065 75A700     739            mov     _SFRPAGE,#0x00
0068            740   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:33: WDTCN = 0xDE; //First key
0068 7597DE     741            mov     _WDTCN,#0xDE
006B            742   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:34: WDTCN = 0xAD; //Second key
006B 7597AD     743            mov     _WDTCN,#0xAD
006E            744   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:36: VDM0CN=0x80;       // enable VDD monitor
006E 75FF80     745            mov     _VDM0CN,#0x80
0071            746   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:37: RSTSRC=0x02|0x04;  // Enable reset on missing clock detector and VDD
0071 75EF06     747            mov     _RSTSRC,#0x06
0074            748   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:44: SFRPAGE = 0x10;
0074 75A710     749            mov     _SFRPAGE,#0x10
0077            750   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:45: PFE0CN  = 0x20; // SYSCLK < 75 MHz.
0077 75C120     751            mov     _PFE0CN,#0x20
007A            752   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:46: SFRPAGE = 0x00;
007A 75A700     753            mov     _SFRPAGE,#0x00
007D            754   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:67: CLKSEL = 0x00;
007D 75A900     755            mov     _CLKSEL,#0x00
0080            756   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:68: CLKSEL = 0x00;
0080 75A900     757            mov     _CLKSEL,#0x00
0083            758   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:69: while ((CLKSEL & 0x80) == 0);
0083            759   L004001?:
0083 E5A9       760            mov     a,_CLKSEL
0085 30E798     761            jnb     acc.7,L004001?
0088            762   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:70: CLKSEL = 0x03;
0088 75A903     763            mov     _CLKSEL,#0x03
008B            764   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:71: CLKSEL = 0x03;
008B 75A903     765            mov     _CLKSEL,#0x03
008E            766   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:72: while ((CLKSEL & 0x80) == 0);
008E            767   L004004?:
008E E5A9       768            mov     a,_CLKSEL
0090 30E7D8     769            jnb     acc.7,L004004?
0093            770   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:77: P0MDOUT |= 0x10; // Enable UART0 TX as push-pull output
0093 43A410     771            orl     _P0MDOUT,#0x10
0096            772   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:78: XBR0     = 0x01; // Enable UART0 on P0.4(TX) and P0.5(RX)
0096 75E101     773            mov     _XBR0,#0x01
0099            774   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:79: XBR1     = 0X00;
0099 75E200     775            mov     _XBR1,#0x00
009C            776   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:80: XBR2     = 0x40; // Enable crossbar and weak pull-ups
009C 75E340     777            mov     _XBR2,#0x40
009F            778   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:86: SCON0 = 0x10;
009F 759810     779            mov     _SCON0,#0x10
00A2            780   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:87: TH1 = 0x100-((SYSCLK/BAUDRATE)/(2L*12L));
00A2 758DE6     781            mov     _TH1,#0xE6
00A5            782   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:88: TL1 = TH1;      // Init Timer1
00A5 858D8B     783            mov     _TL1,_TH1
00A8            784   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:89: TMOD &= ~0xf0;  // TMOD: timer 1 in 8-bit auto-reload
00A8 53890F     785            anl     _TMOD,#0x0F
00AB            786   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:90: TMOD |=  0x20;
00AB 438920     787            orl     _TMOD,#0x20
00AE            788   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:91: TR1 = 1; // START Timer1
00AE D28E       789            setb    _TR1
00B0            790   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:92: TI = 1;  // Indicate TX0 ready
00B0 D299       791            setb    _TI
00B2            792   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:95: TMR2CN0=0x00;   // Stop Timer2; Clear TF2;
00B2 75C800     793            mov     _TMR2CN0,#0x00
00B5            794   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:96: CKCON0|=0b_0001_0000; // Timer 2 uses the system clock
00B5 438E10     795            orl     _CKCON0,#0x10
00B8            796   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:97: TMR2RL=(0x10000L-(SYSCLK/10000L)); // Initialize reload value
00B8 75CAE0     797            mov     _TMR2RL,#0xE0
00BB 75CBE3     798            mov     (_TMR2RL >> 8),#0xE3
00BE            799   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:98: TMR2=0xffff;   // Set to reload immediately
00BE 75CEFF     800            mov     _TMR2,#0xFF
00C1 75CFFF     801            mov     (_TMR2 >> 8),#0xFF
00C4            802   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:99: ET2=1;         // Enable Timer2 interrupts
00C4 D2AD       803            setb    _ET2
00C6            804   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:100: TR2=1;         // Start Timer2 (TMR2CN is bit addressable)
00C6 D2CA       805            setb    _TR2
00C8            806   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:102: EA=1; // Enable interrupts
00C8 D2AF       807            setb    _EA
00CA            808   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:105: return 0;
00CA 758200     809            mov     dpl,#0x00
00CD 22         810            ret
00CE            811   ;------------------------------------------------------------
00CE            812   ;Allocation info for local variables in function 'Timer2_ISR'
00CE            813   ;------------------------------------------------------------
00CE            814   ;------------------------------------------------------------
00CE            815   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:108: void Timer2_ISR (void) interrupt 5
00CE            816   ;        -----------------------------------------
00CE            817   ;         function Timer2_ISR
00CE            818   ;        -----------------------------------------
00CE            819   _Timer2_ISR:
00CE C098       820            push    bits
00D0 C0E0       821            push    acc
00D2 C0F0       822            push    b
00D4 C082       823            push    dpl
00D6 C083       824            push    dph
00D8 C002       825            push    (0+2)
00DA C003       826            push    (0+3)
00DC C004       827            push    (0+4)
00DE C005       828            push    (0+5)
00E0 C006       829            push    (0+6)
00E2 C007       830            push    (0+7)
00E4 C000       831            push    (0+0)
00E6 C001       832            push    (0+1)
00E8 C0D0       833            push    psw
00EA 75D000     834            mov     psw,#0x00
00ED            835   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:110: TF2H = 0; // Clear Timer2 interrupt flag
00ED C2CF       836            clr     _TF2H
00EF            837   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:112: pwm_count++;
00EF 0500       838            inc     _pwm_count
00F1            839   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:114: if(pwm_count>PWM_LIMIT) {
00F1 AA00       840            mov     r2,_pwm_count
00F3 7B00       841            mov     r3,#0x00
00F5 C3         842            clr     c
00F6 E580       843            mov     a,_PWM_LIMIT
00F8 9A         844            subb    a,r2
00F9 E581       845            mov     a,(_PWM_LIMIT + 1)
00FB 9B         846            subb    a,r3
00FC 4001       847            jc      L005021?
00FE 020100     848            ljmp    L005009?
0101            849   L005021?:
0101            850   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:115: pwm_count=0;
0101 750000     851            mov     _pwm_count,#0x00
0104            852   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:116: if(count_angle==1 && PWM_TURN>50) centiseconds++;
0104 7401       853            mov     a,#0x01
0106 B54018     854            cjne    a,_count_angle,L005022?
0109 E4         855            clr     a
010A B54118     856            cjne    a,(_count_angle + 1),L005022?
010D 8001       857            sjmp    L005023?
010F            858   L005022?:
010F 8001       859            sjmp    L005005?
0111            860   L005023?:
0111 C3         861            clr     c
0112 7432       862            mov     a,#0x32
0114 95C0       863            subb    a,_PWM_TURN
0116 E4         864            clr     a
0117 95C1       865            subb    a,(_PWM_TURN + 1)
0119 5001       866            jnc     L005005?
011B E4         867            clr     a
011C C0E0       868            push    acc
011E C0E0       869            push    acc
0120 7480       870            mov     a,#0x80
0122 C0E0       871            push    acc
0124 743F       872            mov     a,#0x3F
0126 C0E0       873            push    acc
0128 858082     874            mov     dpl,_centiseconds
012B 858183     875            mov     dph,(_centiseconds + 1)
012E 8582F0     876            mov     b,(_centiseconds + 2)
0131 E583       877            mov     a,(_centiseconds + 3)
0133 120100     878            lcall   ___fsadd
0136 858280     879            mov     _centiseconds,dpl
0139 858381     880            mov     (_centiseconds + 1),dph
013C 85F082     881            mov     (_centiseconds + 2),b
013F F583       882            mov     (_centiseconds + 3),a
0141 E581       883            mov     a,sp
0143 24FC       884            add     a,#0xfc
0145 F581       885            mov     sp,a
0147 8001       886            sjmp    L005009?
0149            887   L005005?:
0149            888   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:117: else if(count_angle==1 && PWM_TURN<50) centiseconds--;
0149 7401       889            mov     a,#0x01
014B B54058     890            cjne    a,_count_angle,L005025?
014E E4         891            clr     a
014F B54158     892            cjne    a,(_count_angle + 1),L005025?
0152 8001       893            sjmp    L005026?
0154            894   L005025?:
0154 8001       895            sjmp    L005009?
0156            896   L005026?:
0156 C3         897            clr     c
0157 E5C0       898            mov     a,_PWM_TURN
0159 9432       899            subb    a,#0x32
015B E5C1       900            mov     a,(_PWM_TURN + 1)
015D 9400       901            subb    a,#0x00
015F 5001       902            jnc     L005009?
0161 E4         903            clr     a
0162 C0E0       904            push    acc
0164 C0E0       905            push    acc
0166 7480       906            mov     a,#0x80
0168 C0E0       907            push    acc
016A 743F       908            mov     a,#0x3F
016C C0E0       909            push    acc
016E 858082     910            mov     dpl,_centiseconds
0171 858183     911            mov     dph,(_centiseconds + 1)
0174 8582F0     912            mov     b,(_centiseconds + 2)
0177 E583       913            mov     a,(_centiseconds + 3)
0179 120100     914            lcall   ___fssub
017C 858280     915            mov     _centiseconds,dpl
017F 858381     916            mov     (_centiseconds + 1),dph
0182 85F082     917            mov     (_centiseconds + 2),b
0185 F583       918            mov     (_centiseconds + 3),a
0187 E581       919            mov     a,sp
0189 24FC       920            add     a,#0xfc
018B F581       921            mov     sp,a
018D            922   L005009?:
018D            923   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:119: if(PWM_OFF==0) {
018D E500       924            mov     a,_PWM_OFF
018F 4501       925            orl     a,(_PWM_OFF + 1)
0191            926   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:120: OUT0=pwm_count>PWM_TURN?1:0;
0191 7001       927            jnz     L005011?
0193 AA00       928            mov     r2,_pwm_count
0195 FB         929            mov     r3,a
0196 C3         930            clr     c
0197 E5C0       931            mov     a,_PWM_TURN
0199 9A         932            subb    a,r2
019A E5C1       933            mov     a,(_PWM_TURN + 1)
019C 9B         934            subb    a,r3
019D 9291       935            mov     _P1_1,c
019F            936   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:121: OUT1=pwm_count>PWM_TURN?0:1;
019F AA00       937            mov     r2,_pwm_count
01A1 7B00       938            mov     r3,#0x00
01A3 C3         939            clr     c
01A4 E5C0       940            mov     a,_PWM_TURN
01A6 9A         941            subb    a,r2
01A7 E5C1       942            mov     a,(_PWM_TURN + 1)
01A9 9B         943            subb    a,r3
01AA 9258       944            mov  _Timer2_ISR_sloc0_1_0,c
01AC B3         945            cpl     c
01AD 9292       946            mov     _P1_2,c
01AF 8001       947            sjmp    L005013?
01B1            948   L005011?:
01B1            949   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:124: OUT0=0;
01B1 C291       950            clr     _P1_1
01B3            951   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:125: OUT1=0;
01B3 C292       952            clr     _P1_2
01B5            953   L005013?:
01B5 D0D0       954            pop     psw
01B7 D001       955            pop     (0+1)
01B9 D000       956            pop     (0+0)
01BB D007       957            pop     (0+7)
01BD D006       958            pop     (0+6)
01BF D005       959            pop     (0+5)
01C1 D004       960            pop     (0+4)
01C3 D003       961            pop     (0+3)
01C5 D002       962            pop     (0+2)
01C7 D083       963            pop     dph
01C9 D082       964            pop     dpl
01CB D0F0       965            pop     b
01CD D0E0       966            pop     acc
01CF D098       967            pop     bits
01D1 32         968            reti
01D2            969   ;------------------------------------------------------------
01D2            970   ;Allocation info for local variables in function 'getAngle'
01D2            971   ;------------------------------------------------------------
01D2            972   ;centiRaw                  Allocated with name '_getAngle_PARM_2'
01D2            973   ;turnVal                   Allocated with name '_getAngle_PARM_3'
01D2            974   ;current_angle             Allocated with name '_getAngle_current_angle_1_54'
01D2            975   ;angle_change              Allocated to registers r2 r3 r4 r5 
01D2            976   ;mathVal                   Allocated to registers r2 r3 r4 r5 
01D2            977   ;sloc0                     Allocated with name '_getAngle_sloc0_1_0'
01D2            978   ;------------------------------------------------------------
01D2            979   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:130: unsigned int getAngle(unsigned int current_angle, double centiRaw, unsigned int turnVal) {
01D2            980   ;        -----------------------------------------
01D2            981   ;         function getAngle
01D2            982   ;        -----------------------------------------
01D2            983   _getAngle:
01D2 8582A8     984            mov     _getAngle_current_angle_1_54,dpl
01D5 8583A9     985            mov     (_getAngle_current_angle_1_54 + 1),dph
01D8            986   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:134: if(turnVal <50) turnVal = 100 - turnVal;       // absolute turnVal
01D8 C3         987            clr     c
01D9 E5F0       988            mov     a,_getAngle_PARM_3
01DB 9432       989            subb    a,#0x32
01DD E5F1       990            mov     a,(_getAngle_PARM_3 + 1)
01DF 9400       991            subb    a,#0x00
01E1 5001       992            jnc     L006002?
01E3 7464       993            mov     a,#0x64
01E5 C3         994            clr     c
01E6 95F0       995            subb    a,_getAngle_PARM_3
01E8 F5F0       996            mov     _getAngle_PARM_3,a
01EA E4         997            clr     a
01EB 95F1       998            subb    a,(_getAngle_PARM_3 + 1)
01ED F5F1       999            mov     (_getAngle_PARM_3 + 1),a
01EF           1000   L006002?:
01EF           1001   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:135: if(centiRaw ==0) return current_angle;
01EF E540      1002            mov     a,_getAngle_PARM_2
01F1 4541      1003            orl     a,(_getAngle_PARM_2 + 1)
01F3 4542      1004            orl     a,(_getAngle_PARM_2 + 2)
01F5 8543F0    1005            mov     b,(_getAngle_PARM_2 + 3)
01F8 C2F7      1006            clr     b.7 ; Clear the sign bit
01FA 45F0      1007            orl     a,b
01FC 7001      1008            jnz     L006010?
01FE 85A882    1009            mov     dpl,_getAngle_current_angle_1_54
0201 85A983    1010            mov     dph,(_getAngle_current_angle_1_54 + 1)
0204 22        1011            ret
0205           1012   L006010?:
0205           1013   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:137: centiRaw*=10;                                                          // convert to milliseconds
0205 C040      1014            push    _getAngle_PARM_2
0207 C041      1015            push    (_getAngle_PARM_2 + 1)
0209 C042      1016            push    (_getAngle_PARM_2 + 2)
020B C043      1017            push    (_getAngle_PARM_2 + 3)
020D 900000    1018            mov     dptr,#0x0000
0210 75F020    1019            mov     b,#0x20
0213 7441      1020            mov     a,#0x41
0215 120100    1021            lcall   ___fsmul
0218 858240    1022            mov     _getAngle_PARM_2,dpl
021B 858341    1023            mov     (_getAngle_PARM_2 + 1),dph
021E 85F042    1024            mov     (_getAngle_PARM_2 + 2),b
0221 F543      1025            mov     (_getAngle_PARM_2 + 3),a
0223 E581      1026            mov     a,sp
0225 24FC      1027            add     a,#0xfc
0227 F581      1028            mov     sp,a
0229           1029   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:138: printf("\nKnown Values: %i current, %f ms counted, %i turn power", current_angle, centiRaw, turnVal);
0229 C0F0      1030            push    _getAngle_PARM_3
022B C0F1      1031            push    (_getAngle_PARM_3 + 1)
022D C040      1032            push    _getAngle_PARM_2
022F C041      1033            push    (_getAngle_PARM_2 + 1)
0231 C042      1034            push    (_getAngle_PARM_2 + 2)
0233 C043      1035            push    (_getAngle_PARM_2 + 3)
0235 C0A8      1036            push    _getAngle_current_angle_1_54
0237 C0A9      1037            push    (_getAngle_current_angle_1_54 + 1)
0239 7458      1038            mov     a,#__str_0
023B C0E0      1039            push    acc
023D 74C0      1040            mov     a,#(__str_0 >> 8)
023F C0E0      1041            push    acc
0241 7480      1042            mov     a,#0x80
0243 C0E0      1043            push    acc
0245 120100    1044            lcall   _printf
0248 E581      1045            mov     a,sp
024A 24F5      1046            add     a,#0xf5
024C F581      1047            mov     sp,a
024E           1048   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:139: mathVal = (0.00653846*turnVal*turnVal*turnVal*turnVal)-(2.24291375*turnVal*turnVal*turnVal)+(287.7103*turnVal*turnVal)-(16395.59*100)+352780;
024E 85F082    1049            mov     dpl,_getAngle_PARM_3
0251 85F183    1050            mov     dph,(_getAngle_PARM_3 + 1)
0254 120100    1051            lcall   ___uint2fs
0257 AC82      1052            mov     r4,dpl
0259 AD83      1053            mov     r5,dph
025B AEF0      1054            mov     r6,b
025D FF        1055            mov     r7,a
025E C004      1056            push    ar4
0260 C005      1057            push    ar5
0262 C006      1058            push    ar6
0264 C007      1059            push    ar7
0266 C004      1060            push    ar4
0268 C005      1061            push    ar5
026A C006      1062            push    ar6
026C C007      1063            push    ar7
026E 904094    1064            mov     dptr,#0x4094
0271 75F0D6    1065            mov     b,#0xD6
0274 743B      1066            mov     a,#0x3B
0276 120100    1067            lcall   ___fsmul
0279 A882      1068            mov     r0,dpl
027B A983      1069            mov     r1,dph
027D AAF0      1070            mov     r2,b
027F FB        1071            mov     r3,a
0280 E581      1072            mov     a,sp
0282 24FC      1073            add     a,#0xfc
0284 F581      1074            mov     sp,a
0286 D007      1075            pop     ar7
0288 D006      1076            pop     ar6
028A D005      1077            pop     ar5
028C D004      1078            pop     ar4
028E C004      1079            push    ar4
0290 C005      1080            push    ar5
0292 C006      1081            push    ar6
0294 C007      1082            push    ar7
0296 C004      1083            push    ar4
0298 C005      1084            push    ar5
029A C006      1085            push    ar6
029C C007      1086            push    ar7
029E 8882      1087            mov     dpl,r0
02A0 8983      1088            mov     dph,r1
02A2 8AF0      1089            mov     b,r2
02A4 EB        1090            mov     a,r3
02A5 120100    1091            lcall   ___fsmul
02A8 AA82      1092            mov     r2,dpl
02AA AB83      1093            mov     r3,dph
02AC A8F0      1094            mov     r0,b
02AE F9        1095            mov     r1,a
02AF E581      1096            mov     a,sp
02B1 24FC      1097            add     a,#0xfc
02B3 F581      1098            mov     sp,a
02B5 D007      1099            pop     ar7
02B7 D006      1100            pop     ar6
02B9 D005      1101            pop     ar5
02BB D004      1102            pop     ar4
02BD C004      1103            push    ar4
02BF C005      1104            push    ar5
02C1 C006      1105            push    ar6
02C3 C007      1106            push    ar7
02C5 C004      1107            push    ar4
02C7 C005      1108            push    ar5
02C9 C006      1109            push    ar6
02CB C007      1110            push    ar7
02CD 8A82      1111            mov     dpl,r2
02CF 8B83      1112            mov     dph,r3
02D1 88F0      1113            mov     b,r0
02D3 E9        1114            mov     a,r1
02D4 120100    1115            lcall   ___fsmul
02D7 AA82      1116            mov     r2,dpl
02D9 AB83      1117            mov     r3,dph
02DB A8F0      1118            mov     r0,b
02DD F9        1119            mov     r1,a
02DE E581      1120            mov     a,sp
02E0 24FC      1121            add     a,#0xfc
02E2 F581      1122            mov     sp,a
02E4 D007      1123            pop     ar7
02E6 D006      1124            pop     ar6
02E8 D005      1125            pop     ar5
02EA D004      1126            pop     ar4
02EC C004      1127            push    ar4
02EE C005      1128            push    ar5
02F0 C006      1129            push    ar6
02F2 C007      1130            push    ar7
02F4 C004      1131            push    ar4
02F6 C005      1132            push    ar5
02F8 C006      1133            push    ar6
02FA C007      1134            push    ar7
02FC 8A82      1135            mov     dpl,r2
02FE 8B83      1136            mov     dph,r3
0300 88F0      1137            mov     b,r0
0302 E9        1138            mov     a,r1
0303 120100    1139            lcall   ___fsmul
0306 8582F8    1140            mov     _getAngle_sloc0_1_0,dpl
0309 8583F9    1141            mov     (_getAngle_sloc0_1_0 + 1),dph
030C 85F0FA    1142            mov     (_getAngle_sloc0_1_0 + 2),b
030F F5FB      1143            mov     (_getAngle_sloc0_1_0 + 3),a
0311 E581      1144            mov     a,sp
0313 24FC      1145            add     a,#0xfc
0315 F581      1146            mov     sp,a
0317 D007      1147            pop     ar7
0319 D006      1148            pop     ar6
031B D005      1149            pop     ar5
031D D004      1150            pop     ar4
031F C004      1151            push    ar4
0321 C005      1152            push    ar5
0323 C006      1153            push    ar6
0325 C007      1154            push    ar7
0327 C004      1155            push    ar4
0329 C005      1156            push    ar5
032B C006      1157            push    ar6
032D C007      1158            push    ar7
032F 908BE6    1159            mov     dptr,#0x8BE6
0332 75F00F    1160            mov     b,#0x0F
0335 7440      1161            mov     a,#0x40
0337 120100    1162            lcall   ___fsmul
033A AA82      1163            mov     r2,dpl
033C AB83      1164            mov     r3,dph
033E A8F0      1165            mov     r0,b
0340 F9        1166            mov     r1,a
0341 E581      1167            mov     a,sp
0343 24FC      1168            add     a,#0xfc
0345 F581      1169            mov     sp,a
0347 D007      1170            pop     ar7
0349 D006      1171            pop     ar6
034B D005      1172            pop     ar5
034D D004      1173            pop     ar4
034F C004      1174            push    ar4
0351 C005      1175            push    ar5
0353 C006      1176            push    ar6
0355 C007      1177            push    ar7
0357 C004      1178            push    ar4
0359 C005      1179            push    ar5
035B C006      1180            push    ar6
035D C007      1181            push    ar7
035F 8A82      1182            mov     dpl,r2
0361 8B83      1183            mov     dph,r3
0363 88F0      1184            mov     b,r0
0365 E9        1185            mov     a,r1
0366 120100    1186            lcall   ___fsmul
0369 AA82      1187            mov     r2,dpl
036B AB83      1188            mov     r3,dph
036D A8F0      1189            mov     r0,b
036F F9        1190            mov     r1,a
0370 E581      1191            mov     a,sp
0372 24FC      1192            add     a,#0xfc
0374 F581      1193            mov     sp,a
0376 D007      1194            pop     ar7
0378 D006      1195            pop     ar6
037A D005      1196            pop     ar5
037C D004      1197            pop     ar4
037E C004      1198            push    ar4
0380 C005      1199            push    ar5
0382 C006      1200            push    ar6
0384 C007      1201            push    ar7
0386 C004      1202            push    ar4
0388 C005      1203            push    ar5
038A C006      1204            push    ar6
038C C007      1205            push    ar7
038E 8A82      1206            mov     dpl,r2
0390 8B83      1207            mov     dph,r3
0392 88F0      1208            mov     b,r0
0394 E9        1209            mov     a,r1
0395 120100    1210            lcall   ___fsmul
0398 AA82      1211            mov     r2,dpl
039A AB83      1212            mov     r3,dph
039C A8F0      1213            mov     r0,b
039E F9        1214            mov     r1,a
039F E581      1215            mov     a,sp
03A1 24FC      1216            add     a,#0xfc
03A3 F581      1217            mov     sp,a
03A5 C002      1218            push    ar2
03A7 C003      1219            push    ar3
03A9 C000      1220            push    ar0
03AB C001      1221            push    ar1
03AD 85F882    1222            mov     dpl,_getAngle_sloc0_1_0
03B0 85F983    1223            mov     dph,(_getAngle_sloc0_1_0 + 1)
03B3 85FAF0    1224            mov     b,(_getAngle_sloc0_1_0 + 2)
03B6 E5FB      1225            mov     a,(_getAngle_sloc0_1_0 + 3)
03B8 120100    1226            lcall   ___fssub
03BB 8582F8    1227            mov     _getAngle_sloc0_1_0,dpl
03BE 8583F9    1228            mov     (_getAngle_sloc0_1_0 + 1),dph
03C1 85F0FA    1229            mov     (_getAngle_sloc0_1_0 + 2),b
03C4 F5FB      1230            mov     (_getAngle_sloc0_1_0 + 3),a
03C6 E581      1231            mov     a,sp
03C8 24FC      1232            add     a,#0xfc
03CA F581      1233            mov     sp,a
03CC D007      1234            pop     ar7
03CE D006      1235            pop     ar6
03D0 D005      1236            pop     ar5
03D2 D004      1237            pop     ar4
03D4 C004      1238            push    ar4
03D6 C005      1239            push    ar5
03D8 C006      1240            push    ar6
03DA C007      1241            push    ar7
03DC C004      1242            push    ar4
03DE C005      1243            push    ar5
03E0 C006      1244            push    ar6
03E2 C007      1245            push    ar7
03E4 90DAEB    1246            mov     dptr,#0xDAEB
03E7 75F08F    1247            mov     b,#0x8F
03EA 7443      1248            mov     a,#0x43
03EC 120100    1249            lcall   ___fsmul
03EF AA82      1250            mov     r2,dpl
03F1 AB83      1251            mov     r3,dph
03F3 A8F0      1252            mov     r0,b
03F5 F9        1253            mov     r1,a
03F6 E581      1254            mov     a,sp
03F8 24FC      1255            add     a,#0xfc
03FA F581      1256            mov     sp,a
03FC 8A82      1257            mov     dpl,r2
03FE 8B83      1258            mov     dph,r3
0400 88F0      1259            mov     b,r0
0402 E9        1260            mov     a,r1
0403 120100    1261            lcall   ___fsmul
0406 AA82      1262            mov     r2,dpl
0408 AB83      1263            mov     r3,dph
040A ACF0      1264            mov     r4,b
040C FD        1265            mov     r5,a
040D E581      1266            mov     a,sp
040F 24FC      1267            add     a,#0xfc
0411 F581      1268            mov     sp,a
0413 C002      1269            push    ar2
0415 C003      1270            push    ar3
0417 C004      1271            push    ar4
0419 C005      1272            push    ar5
041B 85F882    1273            mov     dpl,_getAngle_sloc0_1_0
041E 85F983    1274            mov     dph,(_getAngle_sloc0_1_0 + 1)
0421 85FAF0    1275            mov     b,(_getAngle_sloc0_1_0 + 2)
0424 E5FB      1276            mov     a,(_getAngle_sloc0_1_0 + 3)
0426 120100    1277            lcall   ___fsadd
0429 AA82      1278            mov     r2,dpl
042B AB83      1279            mov     r3,dph
042D ACF0      1280            mov     r4,b
042F FD        1281            mov     r5,a
0430 E581      1282            mov     a,sp
0432 24FC      1283            add     a,#0xfc
0434 F581      1284            mov     sp,a
0436 74D8      1285            mov     a,#0xD8
0438 C0E0      1286            push    acc
043A 7413      1287            mov     a,#0x13
043C C0E0      1288            push    acc
043E 749D      1289            mov     a,#0x9D
0440 C0E0      1290            push    acc
0442 74C9      1291            mov     a,#0xC9
0444 C0E0      1292            push    acc
0446 8A82      1293            mov     dpl,r2
0448 8B83      1294            mov     dph,r3
044A 8CF0      1295            mov     b,r4
044C ED        1296            mov     a,r5
044D 120100    1297            lcall   ___fsadd
0450 AA82      1298            mov     r2,dpl
0452 AB83      1299            mov     r3,dph
0454 ACF0      1300            mov     r4,b
0456 FD        1301            mov     r5,a
0457 E581      1302            mov     a,sp
0459 24FC      1303            add     a,#0xfc
045B F581      1304            mov     sp,a
045D           1305   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:140: printf("\nTime per 360: %f", mathVal);
045D C002      1306            push    ar2
045F C003      1307            push    ar3
0461 C004      1308            push    ar4
0463 C005      1309            push    ar5
0465 C002      1310            push    ar2
0467 C003      1311            push    ar3
0469 C004      1312            push    ar4
046B C005      1313            push    ar5
046D 7418      1314            mov     a,#__str_1
046F C0E0      1315            push    acc
0471 74C1      1316            mov     a,#(__str_1 >> 8)
0473 C0E0      1317            push    acc
0475 7480      1318            mov     a,#0x80
0477 C0E0      1319            push    acc
0479 120100    1320            lcall   _printf
047C E581      1321            mov     a,sp
047E 24F9      1322            add     a,#0xf9
0480 F581      1323            mov     sp,a
0482           1324   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:141: centiRaw /= mathVal;                                   // find percentage of 360
0482 854082    1325            mov     dpl,_getAngle_PARM_2
0485 854183    1326            mov     dph,(_getAngle_PARM_2 + 1)
0488 8542F0    1327            mov     b,(_getAngle_PARM_2 + 2)
048B E543      1328            mov     a,(_getAngle_PARM_2 + 3)
048D 120100    1329            lcall   ___fsdiv
0490 858240    1330            mov     _getAngle_PARM_2,dpl
0493 858341    1331            mov     (_getAngle_PARM_2 + 1),dph
0496 85F042    1332            mov     (_getAngle_PARM_2 + 2),b
0499 F543      1333            mov     (_getAngle_PARM_2 + 3),a
049B E581      1334            mov     a,sp
049D 24FC      1335            add     a,#0xfc
049F F581      1336            mov     sp,a
04A1           1337   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:142: printf("\nMultiple of 360: %f", centiRaw);
04A1 C040      1338            push    _getAngle_PARM_2
04A3 C041      1339            push    (_getAngle_PARM_2 + 1)
04A5 C042      1340            push    (_getAngle_PARM_2 + 2)
04A7 C043      1341            push    (_getAngle_PARM_2 + 3)
04A9 7498      1342            mov     a,#__str_2
04AB C0E0      1343            push    acc
04AD 74C1      1344            mov     a,#(__str_2 >> 8)
04AF C0E0      1345            push    acc
04B1 7480      1346            mov     a,#0x80
04B3 C0E0      1347            push    acc
04B5 120100    1348            lcall   _printf
04B8 E581      1349            mov     a,sp
04BA 24F9      1350            add     a,#0xf9
04BC F581      1351            mov     sp,a
04BE           1352   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:144: mathVal = current_angle / 360.0;
04BE 85A882    1353            mov     dpl,_getAngle_current_angle_1_54
04C1 85A983    1354            mov     dph,(_getAngle_current_angle_1_54 + 1)
04C4 120100    1355            lcall   ___uint2fs
04C7 AE82      1356            mov     r6,dpl
04C9 AF83      1357            mov     r7,dph
04CB A8F0      1358            mov     r0,b
04CD F9        1359            mov     r1,a
04CE E4        1360            clr     a
04CF C0E0      1361            push    acc
04D1 C0E0      1362            push    acc
04D3 74B4      1363            mov     a,#0xB4
04D5 C0E0      1364            push    acc
04D7 7443      1365            mov     a,#0x43
04D9 C0E0      1366            push    acc
04DB 8E82      1367            mov     dpl,r6
04DD 8F83      1368            mov     dph,r7
04DF 88F0      1369            mov     b,r0
04E1 E9        1370            mov     a,r1
04E2 120100    1371            lcall   ___fsdiv
04E5 AA82      1372            mov     r2,dpl
04E7 AB83      1373            mov     r3,dph
04E9 ACF0      1374            mov     r4,b
04EB FD        1375            mov     r5,a
04EC E581      1376            mov     a,sp
04EE 24FC      1377            add     a,#0xfc
04F0 F581      1378            mov     sp,a
04F2           1379   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:145: centiRaw += mathVal;
04F2 C002      1380            push    ar2
04F4 C003      1381            push    ar3
04F6 C004      1382            push    ar4
04F8 C005      1383            push    ar5
04FA 854082    1384            mov     dpl,_getAngle_PARM_2
04FD 854183    1385            mov     dph,(_getAngle_PARM_2 + 1)
0500 8542F0    1386            mov     b,(_getAngle_PARM_2 + 2)
0503 E543      1387            mov     a,(_getAngle_PARM_2 + 3)
0505 120100    1388            lcall   ___fsadd
0508 858240    1389            mov     _getAngle_PARM_2,dpl
050B 858341    1390            mov     (_getAngle_PARM_2 + 1),dph
050E 85F042    1391            mov     (_getAngle_PARM_2 + 2),b
0511 F543      1392            mov     (_getAngle_PARM_2 + 3),a
0513 E581      1393            mov     a,sp
0515 24FC      1394            add     a,#0xfc
0517 F581      1395            mov     sp,a
0519           1396   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:146: while(centiRaw < 0) centiRaw += 1;
0519           1397   L006003?:
0519 E4        1398            clr     a
051A C0E0      1399            push    acc
051C C0E0      1400            push    acc
051E C0E0      1401            push    acc
0520 C0E0      1402            push    acc
0522 854082    1403            mov     dpl,_getAngle_PARM_2
0525 854183    1404            mov     dph,(_getAngle_PARM_2 + 1)
0528 8542F0    1405            mov     b,(_getAngle_PARM_2 + 2)
052B E543      1406            mov     a,(_getAngle_PARM_2 + 3)
052D 120100    1407            lcall   ___fslt
0530 AA82      1408            mov     r2,dpl
0532 E581      1409            mov     a,sp
0534 24FC      1410            add     a,#0xfc
0536 F581      1411            mov     sp,a
0538 EA        1412            mov     a,r2
0539 6001      1413            jz      L006006?
053B E4        1414            clr     a
053C C0E0      1415            push    acc
053E C0E0      1416            push    acc
0540 7480      1417            mov     a,#0x80
0542 C0E0      1418            push    acc
0544 743F      1419            mov     a,#0x3F
0546 C0E0      1420            push    acc
0548 854082    1421            mov     dpl,_getAngle_PARM_2
054B 854183    1422            mov     dph,(_getAngle_PARM_2 + 1)
054E 8542F0    1423            mov     b,(_getAngle_PARM_2 + 2)
0551 E543      1424            mov     a,(_getAngle_PARM_2 + 3)
0553 120100    1425            lcall   ___fsadd
0556 858240    1426            mov     _getAngle_PARM_2,dpl
0559 858341    1427            mov     (_getAngle_PARM_2 + 1),dph
055C 85F042    1428            mov     (_getAngle_PARM_2 + 2),b
055F F543      1429            mov     (_getAngle_PARM_2 + 3),a
0561 E581      1430            mov     a,sp
0563 24FC      1431            add     a,#0xfc
0565 F581      1432            mov     sp,a
0567           1433   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:147: while(centiRaw > 1) centiRaw -= 1;
0567 8001      1434            sjmp    L006003?
0569           1435   L006006?:
0569 E4        1436            clr     a
056A C0E0      1437            push    acc
056C C0E0      1438            push    acc
056E 7480      1439            mov     a,#0x80
0570 C0E0      1440            push    acc
0572 743F      1441            mov     a,#0x3F
0574 C0E0      1442            push    acc
0576 854082    1443            mov     dpl,_getAngle_PARM_2
0579 854183    1444            mov     dph,(_getAngle_PARM_2 + 1)
057C 8542F0    1445            mov     b,(_getAngle_PARM_2 + 2)
057F E543      1446            mov     a,(_getAngle_PARM_2 + 3)
0581 120100    1447            lcall   ___fsgt
0584 AA82      1448            mov     r2,dpl
0586 E581      1449            mov     a,sp
0588 24FC      1450            add     a,#0xfc
058A F581      1451            mov     sp,a
058C EA        1452            mov     a,r2
058D 6001      1453            jz      L006008?
058F E4        1454            clr     a
0590 C0E0      1455            push    acc
0592 C0E0      1456            push    acc
0594 7480      1457            mov     a,#0x80
0596 C0E0      1458            push    acc
0598 743F      1459            mov     a,#0x3F
059A C0E0      1460            push    acc
059C 854082    1461            mov     dpl,_getAngle_PARM_2
059F 854183    1462            mov     dph,(_getAngle_PARM_2 + 1)
05A2 8542F0    1463            mov     b,(_getAngle_PARM_2 + 2)
05A5 E543      1464            mov     a,(_getAngle_PARM_2 + 3)
05A7 120100    1465            lcall   ___fssub
05AA 858240    1466            mov     _getAngle_PARM_2,dpl
05AD 858341    1467            mov     (_getAngle_PARM_2 + 1),dph
05B0 85F042    1468            mov     (_getAngle_PARM_2 + 2),b
05B3 F543      1469            mov     (_getAngle_PARM_2 + 3),a
05B5 E581      1470            mov     a,sp
05B7 24FC      1471            add     a,#0xfc
05B9 F581      1472            mov     sp,a
05BB 8001      1473            sjmp    L006006?
05BD           1474   L006008?:
05BD           1475   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:148: angle_change = 360.0 * centiRaw;               // find total angle change
05BD C040      1476            push    _getAngle_PARM_2
05BF C041      1477            push    (_getAngle_PARM_2 + 1)
05C1 C042      1478            push    (_getAngle_PARM_2 + 2)
05C3 C043      1479            push    (_getAngle_PARM_2 + 3)
05C5 900000    1480            mov     dptr,#0x0000
05C8 75F0B4    1481            mov     b,#0xB4
05CB 7443      1482            mov     a,#0x43
05CD 120100    1483            lcall   ___fsmul
05D0 AA82      1484            mov     r2,dpl
05D2 AB83      1485            mov     r3,dph
05D4 ACF0      1486            mov     r4,b
05D6 FD        1487            mov     r5,a
05D7 E581      1488            mov     a,sp
05D9 24FC      1489            add     a,#0xfc
05DB F581      1490            mov     sp,a
05DD           1491   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:149: printf("\nangle_change: %f", centiRaw);
05DD C002      1492            push    ar2
05DF C003      1493            push    ar3
05E1 C004      1494            push    ar4
05E3 C005      1495            push    ar5
05E5 C040      1496            push    _getAngle_PARM_2
05E7 C041      1497            push    (_getAngle_PARM_2 + 1)
05E9 C042      1498            push    (_getAngle_PARM_2 + 2)
05EB C043      1499            push    (_getAngle_PARM_2 + 3)
05ED 7418      1500            mov     a,#__str_3
05EF C0E0      1501            push    acc
05F1 74C3      1502            mov     a,#(__str_3 >> 8)
05F3 C0E0      1503            push    acc
05F5 7480      1504            mov     a,#0x80
05F7 C0E0      1505            push    acc
05F9 120100    1506            lcall   _printf
05FC E581      1507            mov     a,sp
05FE 24F9      1508            add     a,#0xf9
0600 F581      1509            mov     sp,a
0602 D005      1510            pop     ar5
0604 D004      1511            pop     ar4
0606 D003      1512            pop     ar3
0608 D002      1513            pop     ar2
060A           1514   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:150: return angle_change;
060A 8A82      1515            mov     dpl,r2
060C 8B83      1516            mov     dph,r3
060E 8CF0      1517            mov     b,r4
0610 ED        1518            mov     a,r5
0611 020100    1519            ljmp    ___fs2uint
0614           1520   ;------------------------------------------------------------
0614           1521   ;Allocation info for local variables in function 'main'
0614           1522   ;------------------------------------------------------------
0614           1523   ;temp                      Allocated with name '_main_temp_1_58'
0614           1524   ;direction                 Allocated with name '_main_direction_1_58'
0614           1525   ;tempD                     Allocated to registers r2 r3 r4 r5 
0614           1526   ;sloc0                     Allocated with name '_main_sloc0_1_0'
0614           1527   ;sloc1                     Allocated with name '_main_sloc1_1_0'
0614           1528   ;------------------------------------------------------------
0614           1529   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:155: void main (void)
0614           1530   ;        -----------------------------------------
0614           1531   ;         function main
0614           1532   ;        -----------------------------------------
0614           1533   _main:
0614           1534   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:157: int temp=0;
0614           1535   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:158: int direction=0;
0614 E4        1536            clr     a
0615 F538      1537            mov     _main_temp_1_58,a
0617 F539      1538            mov     (_main_temp_1_58 + 1),a
0619 F588      1539            mov     _main_direction_1_58,a
061B F589      1540            mov     (_main_direction_1_58 + 1),a
061D           1541   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:161: printf("\x1b[2J"); // Clear screen using ANescapeSI  sequence.
061D 7498      1542            mov     a,#__str_4
061F C0E0      1543            push    acc
0621 74C3      1544            mov     a,#(__str_4 >> 8)
0623 C0E0      1545            push    acc
0625 7480      1546            mov     a,#0x80
0627 C0E0      1547            push    acc
0629 120100    1548            lcall   _printf
062C 1581      1549            dec     sp
062E 1581      1550            dec     sp
0630 1581      1551            dec     sp
0632           1552   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:162: printf("Welcome to the motor controller! Please pick from the several modes below:");
0632 74D8      1553            mov     a,#__str_5
0634 C0E0      1554            push    acc
0636 74C3      1555            mov     a,#(__str_5 >> 8)
0638 C0E0      1556            push    acc
063A 7480      1557            mov     a,#0x80
063C C0E0      1558            push    acc
063E 120100    1559            lcall   _printf
0641 1581      1560            dec     sp
0643 1581      1561            dec     sp
0645 1581      1562            dec     sp
0647           1563   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:163: printf("\n(0) - Stop the Motor Controller");
0647 7418      1564            mov     a,#__str_6
0649 C0E0      1565            push    acc
064B 74C4      1566            mov     a,#(__str_6 >> 8)
064D C0E0      1567            push    acc
064F 7480      1568            mov     a,#0x80
0651 C0E0      1569            push    acc
0653 120100    1570            lcall   _printf
0656 1581      1571            dec     sp
0658 1581      1572            dec     sp
065A 1581      1573            dec     sp
065C           1574   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:164: printf("\n(1) - Turn Counter-Clockwise at maximum speed");
065C 7458      1575            mov     a,#__str_7
065E C0E0      1576            push    acc
0660 74C4      1577            mov     a,#(__str_7 >> 8)
0662 C0E0      1578            push    acc
0664 7480      1579            mov     a,#0x80
0666 C0E0      1580            push    acc
0668 120100    1581            lcall   _printf
066B 1581      1582            dec     sp
066D 1581      1583            dec     sp
066F 1581      1584            dec     sp
0671           1585   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:165: printf("\n(2) - Turn Clockwise at maximum speed");
0671 7498      1586            mov     a,#__str_8
0673 C0E0      1587            push    acc
0675 74C4      1588            mov     a,#(__str_8 >> 8)
0677 C0E0      1589            push    acc
0679 7480      1590            mov     a,#0x80
067B C0E0      1591            push    acc
067D 120100    1592            lcall   _printf
0680 1581      1593            dec     sp
0682 1581      1594            dec     sp
0684 1581      1595            dec     sp
0686           1596   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:166: printf("\n(3) - Turn at variable speed and time");
0686 74D8      1597            mov     a,#__str_9
0688 C0E0      1598            push    acc
068A 74C4      1599            mov     a,#(__str_9 >> 8)
068C C0E0      1600            push    acc
068E 7480      1601            mov     a,#0x80
0690 C0E0      1602            push    acc
0692 120100    1603            lcall   _printf
0695 1581      1604            dec     sp
0697 1581      1605            dec     sp
0699 1581      1606            dec     sp
069B           1607   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:167: printf("\n(4) - Turn at variable speed and angle");
069B 7418      1608            mov     a,#__str_10
069D C0E0      1609            push    acc
069F 74C5      1610            mov     a,#(__str_10 >> 8)
06A1 C0E0      1611            push    acc
06A3 7480      1612            mov     a,#0x80
06A5 C0E0      1613            push    acc
06A7 120100    1614            lcall   _printf
06AA 1581      1615            dec     sp
06AC 1581      1616            dec     sp
06AE 1581      1617            dec     sp
06B0           1618   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:168: printf("\n(5) - DJ/Screenwiper mode");
06B0 7458      1619            mov     a,#__str_11
06B2 C0E0      1620            push    acc
06B4 74C5      1621            mov     a,#(__str_11 >> 8)
06B6 C0E0      1622            push    acc
06B8 7480      1623            mov     a,#0x80
06BA C0E0      1624            push    acc
06BC 120100    1625            lcall   _printf
06BF 1581      1626            dec     sp
06C1 1581      1627            dec     sp
06C3 1581      1628            dec     sp
06C5           1629   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:169: printf("\n(6) - Python Angle");
06C5 7498      1630            mov     a,#__str_12
06C7 C0E0      1631            push    acc
06C9 74C5      1632            mov     a,#(__str_12 >> 8)
06CB C0E0      1633            push    acc
06CD 7480      1634            mov     a,#0x80
06CF C0E0      1635            push    acc
06D1 120100    1636            lcall   _printf
06D4 1581      1637            dec     sp
06D6 1581      1638            dec     sp
06D8 1581      1639            dec     sp
06DA           1640   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:170: printf("\n(9) - Reset, the Motor Controller");
06DA 74D8      1641            mov     a,#__str_13
06DC C0E0      1642            push    acc
06DE 74C5      1643            mov     a,#(__str_13 >> 8)
06E0 C0E0      1644            push    acc
06E2 7480      1645            mov     a,#0x80
06E4 C0E0      1646            push    acc
06E6 120100    1647            lcall   _printf
06E9 1581      1648            dec     sp
06EB 1581      1649            dec     sp
06ED 1581      1650            dec     sp
06EF           1651   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:172: while(1)
06EF           1652   L007048?:
06EF           1653   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:174: printf("\n\nEnter mode: ");
06EF 7458      1654            mov     a,#__str_14
06F1 C0E0      1655            push    acc
06F3 74C6      1656            mov     a,#(__str_14 >> 8)
06F5 C0E0      1657            push    acc
06F7 7480      1658            mov     a,#0x80
06F9 C0E0      1659            push    acc
06FB 120100    1660            lcall   _printf
06FE 1581      1661            dec     sp
0700 1581      1662            dec     sp
0702 1581      1663            dec     sp
0704           1664   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:175: scanf(" %i", &PWM_MODE);               // code stops here to wait for next command
0704 7440      1665            mov     a,#_PWM_MODE
0706 C0E0      1666            push    acc
0708 7414      1667            mov     a,#(_PWM_MODE >> 8)
070A C0E0      1668            push    acc
070C 7440      1669            mov     a,#0x40
070E C0E0      1670            push    acc
0710 7498      1671            mov     a,#__str_15
0712 C0E0      1672            push    acc
0714 74C6      1673            mov     a,#(__str_15 >> 8)
0716 C0E0      1674            push    acc
0718 7480      1675            mov     a,#0x80
071A C0E0      1676            push    acc
071C 120100    1677            lcall   _scanf
071F E581      1678            mov     a,sp
0721 24FA      1679            add     a,#0xfa
0723 F581      1680            mov     sp,a
0725           1681   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:176: switch(PWM_MODE) {
0725 AA40      1682            mov     r2,_PWM_MODE
0727 AB41      1683            mov     r3,(_PWM_MODE + 1)
0729 C3        1684            clr     c
072A 7409      1685            mov     a,#0x09
072C 9A        1686            subb    a,r2
072D E4        1687            clr     a
072E 9B        1688            subb    a,r3
072F 4001      1689            jc      L007048?
0731 EA        1690            mov     a,r2
0732 2A        1691            add     a,r2
0733 2A        1692            add     a,r2
0734 90C718    1693            mov     dptr,#L007070?
0737 73        1694            jmp     @a+dptr
0738           1695   L007070?:
0738 020100    1696            ljmp    L007001?
073B 020100    1697            ljmp    L007002?
073E 020100    1698            ljmp    L007003?
0741 020100    1699            ljmp    L007004?
0744 020100    1700            ljmp    L007011?
0747 020100    1701            ljmp    L007021?
074A 020100    1702            ljmp    L007038?
074D 020100    1703            ljmp    L007045?
0750 020100    1704            ljmp    L007045?
0753 020100    1705            ljmp    L007039?
0756           1706   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:179: case 0:
0756           1707   L007001?:
0756           1708   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:181: count_angle=0;         // stop counting centiseconds
0756 E4        1709            clr     a
0757 F540      1710            mov     _count_angle,a
0759 F541      1711            mov     (_count_angle + 1),a
075B           1712   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:182: current_angle = getAngle(current_angle, centiseconds, PWM_TURN);       // compute current angle
075B 858040    1713            mov     _getAngle_PARM_2,_centiseconds
075E 858141    1714            mov     (_getAngle_PARM_2 + 1),(_centiseconds + 1)
0761 858242    1715            mov     (_getAngle_PARM_2 + 2),(_centiseconds + 2)
0764 858343    1716            mov     (_getAngle_PARM_2 + 3),(_centiseconds + 3)
0767 85C0F0    1717            mov     _getAngle_PARM_3,_PWM_TURN
076A 85C1F1    1718            mov     (_getAngle_PARM_3 + 1),(_PWM_TURN + 1)
076D 858082    1719            mov     dpl,_current_angle
0770 858183    1720            mov     dph,(_current_angle + 1)
0773 120100    1721            lcall   _getAngle
0776 858280    1722            mov     _current_angle,dpl
0779 858381    1723            mov     (_current_angle + 1),dph
077C           1724   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:183: printf("\nCurrent angle: %i", current_angle);
077C C080      1725            push    _current_angle
077E C081      1726            push    (_current_angle + 1)
0780 7498      1727            mov     a,#__str_16
0782 C0E0      1728            push    acc
0784 74C9      1729            mov     a,#(__str_16 >> 8)
0786 C0E0      1730            push    acc
0788 7480      1731            mov     a,#0x80
078A C0E0      1732            push    acc
078C 120100    1733            lcall   _printf
078F E581      1734            mov     a,sp
0791 24FB      1735            add     a,#0xfb
0793 F581      1736            mov     sp,a
0795           1737   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:184: centiseconds=0;                // reset centiseconds
0795 758000    1738            mov     _centiseconds,#0x00
0798 758100    1739            mov     (_centiseconds + 1),#0x00
079B 758200    1740            mov     (_centiseconds + 2),#0x00
079E 758300    1741            mov     (_centiseconds + 3),#0x00
07A1           1742   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:185: PWM_TURN=50;           // reset PWM_TURN
07A1 75C032    1743            mov     _PWM_TURN,#0x32
07A4 E4        1744            clr     a
07A5 F5C1      1745            mov     (_PWM_TURN + 1),a
07A7           1746   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:186: PWM_OFF=1;                     // turn of motor
07A7 750001    1747            mov     _PWM_OFF,#0x01
07AA E4        1748            clr     a
07AB F501      1749            mov     (_PWM_OFF + 1),a
07AD           1750   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:187: break;
07AD 020100    1751            ljmp    L007048?
07B0           1752   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:190: case 1:
07B0           1753   L007002?:
07B0           1754   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:192: PWM_TURN=50;
07B0 75C032    1755            mov     _PWM_TURN,#0x32
07B3 E4        1756            clr     a
07B4 F5C1      1757            mov     (_PWM_TURN + 1),a
07B6           1758   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:193: PWM_OFF=0;
07B6 E4        1759            clr     a
07B7 F500      1760            mov     _PWM_OFF,a
07B9 F501      1761            mov     (_PWM_OFF + 1),a
07BB           1762   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:194: waitms(500);
07BB 9001F4    1763            mov     dptr,#0x01F4
07BE 120100    1764            lcall   _waitms
07C1           1765   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:196: count_angle=1;                 // start counting centiseconds
07C1 754001    1766            mov     _count_angle,#0x01
07C4 E4        1767            clr     a
07C5 F541      1768            mov     (_count_angle + 1),a
07C7           1769   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:197: PWM_TURN=0;                    // full speed counterclockwise
07C7 E4        1770            clr     a
07C8 F5C0      1771            mov     _PWM_TURN,a
07CA F5C1      1772            mov     (_PWM_TURN + 1),a
07CC           1773   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:199: break;
07CC 020100    1774            ljmp    L007048?
07CF           1775   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:202: case 2:
07CF           1776   L007003?:
07CF           1777   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:203: PWM_TURN=50;
07CF 75C032    1778            mov     _PWM_TURN,#0x32
07D2 E4        1779            clr     a
07D3 F5C1      1780            mov     (_PWM_TURN + 1),a
07D5           1781   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:204: PWM_OFF=0;
07D5 E4        1782            clr     a
07D6 F500      1783            mov     _PWM_OFF,a
07D8 F501      1784            mov     (_PWM_OFF + 1),a
07DA           1785   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:205: waitms(500);
07DA 9001F4    1786            mov     dptr,#0x01F4
07DD 120100    1787            lcall   _waitms
07E0           1788   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:207: count_angle=1;                 // start counting angle
07E0 754001    1789            mov     _count_angle,#0x01
07E3 E4        1790            clr     a
07E4 F541      1791            mov     (_count_angle + 1),a
07E6           1792   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:208: PWM_TURN=100;          // full speed clockwise
07E6 75C064    1793            mov     _PWM_TURN,#0x64
07E9 E4        1794            clr     a
07EA F5C1      1795            mov     (_PWM_TURN + 1),a
07EC           1796   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:209: PWM_OFF=0;                     // turn on motor
07EC E4        1797            clr     a
07ED F500      1798            mov     _PWM_OFF,a
07EF F501      1799            mov     (_PWM_OFF + 1),a
07F1           1800   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:210: break;
07F1 020100    1801            ljmp    L007048?
07F4           1802   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:213: case 3:
07F4           1803   L007004?:
07F4           1804   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:215: printf("\nEnter 1 for clockwise, 0 for counterclockwise(default): ");
07F4 74D8      1805            mov     a,#__str_17
07F6 C0E0      1806            push    acc
07F8 74C9      1807            mov     a,#(__str_17 >> 8)
07FA C0E0      1808            push    acc
07FC 7480      1809            mov     a,#0x80
07FE C0E0      1810            push    acc
0800 120100    1811            lcall   _printf
0803 1581      1812            dec     sp
0805 1581      1813            dec     sp
0807 1581      1814            dec     sp
0809           1815   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:216: scanf(" %i", &direction);
0809 7488      1816            mov     a,#_main_direction_1_58
080B C0E0      1817            push    acc
080D 74B7      1818            mov     a,#(_main_direction_1_58 >> 8)
080F C0E0      1819            push    acc
0811 7440      1820            mov     a,#0x40
0813 C0E0      1821            push    acc
0815 7498      1822            mov     a,#__str_15
0817 C0E0      1823            push    acc
0819 74C6      1824            mov     a,#(__str_15 >> 8)
081B C0E0      1825            push    acc
081D 7480      1826            mov     a,#0x80
081F C0E0      1827            push    acc
0821 120100    1828            lcall   _scanf
0824 E581      1829            mov     a,sp
0826 24FA      1830            add     a,#0xfa
0828 F581      1831            mov     sp,a
082A           1832   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:218: printf("\nEnter turn speed (0 to 10): ");
082A 7418      1833            mov     a,#__str_18
082C C0E0      1834            push    acc
082E 74CA      1835            mov     a,#(__str_18 >> 8)
0830 C0E0      1836            push    acc
0832 7480      1837            mov     a,#0x80
0834 C0E0      1838            push    acc
0836 120100    1839            lcall   _printf
0839 1581      1840            dec     sp
083B 1581      1841            dec     sp
083D 1581      1842            dec     sp
083F           1843   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:219: if(direction == 0) {
083F E588      1844            mov     a,_main_direction_1_58
0841 4589      1845            orl     a,(_main_direction_1_58 + 1)
0843 7001      1846            jnz     L007006?
0845           1847   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:220: scanf(" %i", &temp);
0845 7438      1848            mov     a,#_main_temp_1_58
0847 C0E0      1849            push    acc
0849 74B7      1850            mov     a,#(_main_temp_1_58 >> 8)
084B C0E0      1851            push    acc
084D 7440      1852            mov     a,#0x40
084F C0E0      1853            push    acc
0851 7498      1854            mov     a,#__str_15
0853 C0E0      1855            push    acc
0855 74C6      1856            mov     a,#(__str_15 >> 8)
0857 C0E0      1857            push    acc
0859 7480      1858            mov     a,#0x80
085B C0E0      1859            push    acc
085D 120100    1860            lcall   _scanf
0860 E581      1861            mov     a,sp
0862 24FA      1862            add     a,#0xfa
0864 F581      1863            mov     sp,a
0866           1864   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:221: temp = 50-5*temp;
0866 853800    1865            mov     __mulint_PARM_2,_main_temp_1_58
0869 853901    1866            mov     (__mulint_PARM_2 + 1),(_main_temp_1_58 + 1)
086C 900005    1867            mov     dptr,#0x0005
086F 120100    1868            lcall   __mulint
0872 AA82      1869            mov     r2,dpl
0874 AB83      1870            mov     r3,dph
0876 7432      1871            mov     a,#0x32
0878 C3        1872            clr     c
0879 9A        1873            subb    a,r2
087A F538      1874            mov     _main_temp_1_58,a
087C E4        1875            clr     a
087D 9B        1876            subb    a,r3
087E F539      1877            mov     (_main_temp_1_58 + 1),a
0880 8001      1878            sjmp    L007007?
0882           1879   L007006?:
0882           1880   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:224: scanf(" %i", &temp);
0882 7438      1881            mov     a,#_main_temp_1_58
0884 C0E0      1882            push    acc
0886 74B7      1883            mov     a,#(_main_temp_1_58 >> 8)
0888 C0E0      1884            push    acc
088A 7440      1885            mov     a,#0x40
088C C0E0      1886            push    acc
088E 7498      1887            mov     a,#__str_15
0890 C0E0      1888            push    acc
0892 74C6      1889            mov     a,#(__str_15 >> 8)
0894 C0E0      1890            push    acc
0896 7480      1891            mov     a,#0x80
0898 C0E0      1892            push    acc
089A 120100    1893            lcall   _scanf
089D E581      1894            mov     a,sp
089F 24FA      1895            add     a,#0xfa
08A1 F581      1896            mov     sp,a
08A3           1897   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:225: temp = 50 + 5*temp;
08A3 853800    1898            mov     __mulint_PARM_2,_main_temp_1_58
08A6 853901    1899            mov     (__mulint_PARM_2 + 1),(_main_temp_1_58 + 1)
08A9 900005    1900            mov     dptr,#0x0005
08AC 120100    1901            lcall   __mulint
08AF E582      1902            mov     a,dpl
08B1 8583F0    1903            mov     b,dph
08B4 2432      1904            add     a,#0x32
08B6 F538      1905            mov     _main_temp_1_58,a
08B8 E4        1906            clr     a
08B9 35F0      1907            addc    a,b
08BB F539      1908            mov     (_main_temp_1_58 + 1),a
08BD           1909   L007007?:
08BD           1910   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:227: printf("\nEnter time: ");
08BD 7458      1911            mov     a,#__str_19
08BF C0E0      1912            push    acc
08C1 74CB      1913            mov     a,#(__str_19 >> 8)
08C3 C0E0      1914            push    acc
08C5 7480      1915            mov     a,#0x80
08C7 C0E0      1916            push    acc
08C9 120100    1917            lcall   _printf
08CC 1581      1918            dec     sp
08CE 1581      1919            dec     sp
08D0 1581      1920            dec     sp
08D2           1921   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:228: scanf(" %i", &PWM_TIME);
08D2 74C0      1922            mov     a,#_PWM_TIME
08D4 C0E0      1923            push    acc
08D6 7413      1924            mov     a,#(_PWM_TIME >> 8)
08D8 C0E0      1925            push    acc
08DA 7440      1926            mov     a,#0x40
08DC C0E0      1927            push    acc
08DE 7498      1928            mov     a,#__str_15
08E0 C0E0      1929            push    acc
08E2 74C6      1930            mov     a,#(__str_15 >> 8)
08E4 C0E0      1931            push    acc
08E6 7480      1932            mov     a,#0x80
08E8 C0E0      1933            push    acc
08EA 120100    1934            lcall   _scanf
08ED E581      1935            mov     a,sp
08EF 24FA      1936            add     a,#0xfa
08F1 F581      1937            mov     sp,a
08F3           1938   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:229: waitms(500);
08F3 9001F4    1939            mov     dptr,#0x01F4
08F6 120100    1940            lcall   _waitms
08F9           1941   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:231: PWM_TURN=50;
08F9 75C032    1942            mov     _PWM_TURN,#0x32
08FC E4        1943            clr     a
08FD F5C1      1944            mov     (_PWM_TURN + 1),a
08FF           1945   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:232: PWM_OFF=0;
08FF E4        1946            clr     a
0900 F500      1947            mov     _PWM_OFF,a
0902 F501      1948            mov     (_PWM_OFF + 1),a
0904           1949   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:233: waitms(500);
0904 9001F4    1950            mov     dptr,#0x01F4
0907 120100    1951            lcall   _waitms
090A           1952   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:235: count_angle=1;                 // start counting centiseconds
090A 754001    1953            mov     _count_angle,#0x01
090D E4        1954            clr     a
090E F541      1955            mov     (_count_angle + 1),a
0910           1956   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:236: PWM_TURN=temp;                 // run motor
0910 8538C0    1957            mov     _PWM_TURN,_main_temp_1_58
0913 8539C1    1958            mov     (_PWM_TURN + 1),(_main_temp_1_58 + 1)
0916           1959   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:237: while(PWM_TIME > 1000) {
0916           1960   L007008?:
0916 C3        1961            clr     c
0917 74E8      1962            mov     a,#0xE8
0919 95C0      1963            subb    a,_PWM_TIME
091B 7403      1964            mov     a,#0x03
091D 95C1      1965            subb    a,(_PWM_TIME + 1)
091F 5001      1966            jnc     L007010?
0921           1967   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:238: waitms(1000);
0921 9003E8    1968            mov     dptr,#0x03E8
0924 120100    1969            lcall   _waitms
0927           1970   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:239: PWM_TIME -= 1000;
0927 E5C0      1971            mov     a,_PWM_TIME
0929 2418      1972            add     a,#0x18
092B F5C0      1973            mov     _PWM_TIME,a
092D E5C1      1974            mov     a,(_PWM_TIME + 1)
092F 34FC      1975            addc    a,#0xfc
0931 F5C1      1976            mov     (_PWM_TIME + 1),a
0933 8001      1977            sjmp    L007008?
0935           1978   L007010?:
0935           1979   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:241: waitms(PWM_TIME);
0935 85C082    1980            mov     dpl,_PWM_TIME
0938 85C183    1981            mov     dph,(_PWM_TIME + 1)
093B 120100    1982            lcall   _waitms
093E           1983   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:242: PWM_OFF=1;                     // turn off motor
093E 750001    1984            mov     _PWM_OFF,#0x01
0941 E4        1985            clr     a
0942 F501      1986            mov     (_PWM_OFF + 1),a
0944           1987   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:243: count_angle=0;                 // stop counting centiseconds
0944           1988   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:244: temp=0;
0944 E4        1989            clr     a
0945 F540      1990            mov     _count_angle,a
0947 F541      1991            mov     (_count_angle + 1),a
0949 F538      1992            mov     _main_temp_1_58,a
094B F539      1993            mov     (_main_temp_1_58 + 1),a
094D           1994   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:247: current_angle = getAngle(current_angle, centiseconds, PWM_TURN);
094D 858040    1995            mov     _getAngle_PARM_2,_centiseconds
0950 858141    1996            mov     (_getAngle_PARM_2 + 1),(_centiseconds + 1)
0953 858242    1997            mov     (_getAngle_PARM_2 + 2),(_centiseconds + 2)
0956 858343    1998            mov     (_getAngle_PARM_2 + 3),(_centiseconds + 3)
0959 85C0F0    1999            mov     _getAngle_PARM_3,_PWM_TURN
095C 85C1F1    2000            mov     (_getAngle_PARM_3 + 1),(_PWM_TURN + 1)
095F 858082    2001            mov     dpl,_current_angle
0962 858183    2002            mov     dph,(_current_angle + 1)
0965 120100    2003            lcall   _getAngle
0968 858280    2004            mov     _current_angle,dpl
096B 858381    2005            mov     (_current_angle + 1),dph
096E           2006   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:248: printf("\nCurrent angle: %i", current_angle);
096E C080      2007            push    _current_angle
0970 C081      2008            push    (_current_angle + 1)
0972 7498      2009            mov     a,#__str_16
0974 C0E0      2010            push    acc
0976 74C9      2011            mov     a,#(__str_16 >> 8)
0978 C0E0      2012            push    acc
097A 7480      2013            mov     a,#0x80
097C C0E0      2014            push    acc
097E 120100    2015            lcall   _printf
0981 E581      2016            mov     a,sp
0983 24FB      2017            add     a,#0xfb
0985 F581      2018            mov     sp,a
0987           2019   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:249: centiseconds = 0;
0987           2020   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:250: PWM_MODE=0;                    // reset to mode 0
0987 E4        2021            clr     a
0988 F580      2022            mov     _centiseconds,a
098A F581      2023            mov     (_centiseconds + 1),a
098C F582      2024            mov     (_centiseconds + 2),a
098E F583      2025            mov     (_centiseconds + 3),a
0990 F540      2026            mov     _PWM_MODE,a
0992 F541      2027            mov     (_PWM_MODE + 1),a
0994           2028   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:252: break;
0994 020100    2029            ljmp    L007048?
0997           2030   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:254: case 4:
0997           2031   L007011?:
0997           2032   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:256: printf("\nEnter 1 for clockwise, 0 for counterclockwise(default): ");
0997 74D8      2033            mov     a,#__str_17
0999 C0E0      2034            push    acc
099B 74C9      2035            mov     a,#(__str_17 >> 8)
099D C0E0      2036            push    acc
099F 7480      2037            mov     a,#0x80
09A1 C0E0      2038            push    acc
09A3 120100    2039            lcall   _printf
09A6 1581      2040            dec     sp
09A8 1581      2041            dec     sp
09AA 1581      2042            dec     sp
09AC           2043   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:257: scanf(" %i", &direction);
09AC 7488      2044            mov     a,#_main_direction_1_58
09AE C0E0      2045            push    acc
09B0 74B7      2046            mov     a,#(_main_direction_1_58 >> 8)
09B2 C0E0      2047            push    acc
09B4 7440      2048            mov     a,#0x40
09B6 C0E0      2049            push    acc
09B8 7498      2050            mov     a,#__str_15
09BA C0E0      2051            push    acc
09BC 74C6      2052            mov     a,#(__str_15 >> 8)
09BE C0E0      2053            push    acc
09C0 7480      2054            mov     a,#0x80
09C2 C0E0      2055            push    acc
09C4 120100    2056            lcall   _scanf
09C7 E581      2057            mov     a,sp
09C9 24FA      2058            add     a,#0xfa
09CB F581      2059            mov     sp,a
09CD           2060   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:259: printf("\nEnter turn speed (0 to 10): ");
09CD 7418      2061            mov     a,#__str_18
09CF C0E0      2062            push    acc
09D1 74CA      2063            mov     a,#(__str_18 >> 8)
09D3 C0E0      2064            push    acc
09D5 7480      2065            mov     a,#0x80
09D7 C0E0      2066            push    acc
09D9 120100    2067            lcall   _printf
09DC 1581      2068            dec     sp
09DE 1581      2069            dec     sp
09E0 1581      2070            dec     sp
09E2           2071   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:260: if(direction == 0) {
09E2 E588      2072            mov     a,_main_direction_1_58
09E4 4589      2073            orl     a,(_main_direction_1_58 + 1)
09E6 7001      2074            jnz     L007013?
09E8           2075   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:261: scanf(" %i", &temp);
09E8 7438      2076            mov     a,#_main_temp_1_58
09EA C0E0      2077            push    acc
09EC 74B7      2078            mov     a,#(_main_temp_1_58 >> 8)
09EE C0E0      2079            push    acc
09F0 7440      2080            mov     a,#0x40
09F2 C0E0      2081            push    acc
09F4 7498      2082            mov     a,#__str_15
09F6 C0E0      2083            push    acc
09F8 74C6      2084            mov     a,#(__str_15 >> 8)
09FA C0E0      2085            push    acc
09FC 7480      2086            mov     a,#0x80
09FE C0E0      2087            push    acc
0A00 120100    2088            lcall   _scanf
0A03 E581      2089            mov     a,sp
0A05 24FA      2090            add     a,#0xfa
0A07 F581      2091            mov     sp,a
0A09           2092   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:262: temp = 50 - 5*temp;
0A09 853800    2093            mov     __mulint_PARM_2,_main_temp_1_58
0A0C 853901    2094            mov     (__mulint_PARM_2 + 1),(_main_temp_1_58 + 1)
0A0F 900005    2095            mov     dptr,#0x0005
0A12 120100    2096            lcall   __mulint
0A15 AA82      2097            mov     r2,dpl
0A17 AB83      2098            mov     r3,dph
0A19 7432      2099            mov     a,#0x32
0A1B C3        2100            clr     c
0A1C 9A        2101            subb    a,r2
0A1D F538      2102            mov     _main_temp_1_58,a
0A1F E4        2103            clr     a
0A20 9B        2104            subb    a,r3
0A21 F539      2105            mov     (_main_temp_1_58 + 1),a
0A23 8001      2106            sjmp    L007014?
0A25           2107   L007013?:
0A25           2108   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:265: scanf(" %i", &temp);
0A25 7438      2109            mov     a,#_main_temp_1_58
0A27 C0E0      2110            push    acc
0A29 74B7      2111            mov     a,#(_main_temp_1_58 >> 8)
0A2B C0E0      2112            push    acc
0A2D 7440      2113            mov     a,#0x40
0A2F C0E0      2114            push    acc
0A31 7498      2115            mov     a,#__str_15
0A33 C0E0      2116            push    acc
0A35 74C6      2117            mov     a,#(__str_15 >> 8)
0A37 C0E0      2118            push    acc
0A39 7480      2119            mov     a,#0x80
0A3B C0E0      2120            push    acc
0A3D 120100    2121            lcall   _scanf
0A40 E581      2122            mov     a,sp
0A42 24FA      2123            add     a,#0xfa
0A44 F581      2124            mov     sp,a
0A46           2125   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:266: temp = 50 + 5*temp;
0A46 853800    2126            mov     __mulint_PARM_2,_main_temp_1_58
0A49 853901    2127            mov     (__mulint_PARM_2 + 1),(_main_temp_1_58 + 1)
0A4C 900005    2128            mov     dptr,#0x0005
0A4F 120100    2129            lcall   __mulint
0A52 E582      2130            mov     a,dpl
0A54 8583F0    2131            mov     b,dph
0A57 2432      2132            add     a,#0x32
0A59 F538      2133            mov     _main_temp_1_58,a
0A5B E4        2134            clr     a
0A5C 35F0      2135            addc    a,b
0A5E F539      2136            mov     (_main_temp_1_58 + 1),a
0A60           2137   L007014?:
0A60           2138   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:269: printf("\nEnter angle: ");
0A60 7498      2139            mov     a,#__str_20
0A62 C0E0      2140            push    acc
0A64 74CC      2141            mov     a,#(__str_20 >> 8)
0A66 C0E0      2142            push    acc
0A68 7480      2143            mov     a,#0x80
0A6A C0E0      2144            push    acc
0A6C 120100    2145            lcall   _printf
0A6F 1581      2146            dec     sp
0A71 1581      2147            dec     sp
0A73 1581      2148            dec     sp
0A75           2149   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:270: scanf(" %i", &PWM_TIME);
0A75 74C0      2150            mov     a,#_PWM_TIME
0A77 C0E0      2151            push    acc
0A79 7413      2152            mov     a,#(_PWM_TIME >> 8)
0A7B C0E0      2153            push    acc
0A7D 7440      2154            mov     a,#0x40
0A7F C0E0      2155            push    acc
0A81 7498      2156            mov     a,#__str_15
0A83 C0E0      2157            push    acc
0A85 74C6      2158            mov     a,#(__str_15 >> 8)
0A87 C0E0      2159            push    acc
0A89 7480      2160            mov     a,#0x80
0A8B C0E0      2161            push    acc
0A8D 120100    2162            lcall   _scanf
0A90 E581      2163            mov     a,sp
0A92 24FA      2164            add     a,#0xfa
0A94 F581      2165            mov     sp,a
0A96           2166   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:271: if(temp <50) {
0A96 C3        2167            clr     c
0A97 E538      2168            mov     a,_main_temp_1_58
0A99 9432      2169            subb    a,#0x32
0A9B E539      2170            mov     a,(_main_temp_1_58 + 1)
0A9D 6480      2171            xrl     a,#0x80
0A9F 9480      2172            subb    a,#0x80
0AA1 4001      2173            jc      L007074?
0AA3 020100    2174            ljmp    L007016?
0AA6           2175   L007074?:
0AA6           2176   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:272: temp = 100 - temp;
0AA6 7464      2177            mov     a,#0x64
0AA8 C3        2178            clr     c
0AA9 9538      2179            subb    a,_main_temp_1_58
0AAB F538      2180            mov     _main_temp_1_58,a
0AAD E4        2181            clr     a
0AAE 9539      2182            subb    a,(_main_temp_1_58 + 1)
0AB0 F539      2183            mov     (_main_temp_1_58 + 1),a
0AB2           2184   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:273: tempD = (0.00653846*temp*temp*temp*temp)-(2.24291375*temp*temp*temp)+(287.7103*temp*temp)-(16395.59*100)+352780;
0AB2 853882    2185            mov     dpl,_main_temp_1_58
0AB5 853983    2186            mov     dph,(_main_temp_1_58 + 1)
0AB8 120100    2187            lcall   ___sint2fs
0ABB AA82      2188            mov     r2,dpl
0ABD AB83      2189            mov     r3,dph
0ABF ACF0      2190            mov     r4,b
0AC1 FD        2191            mov     r5,a
0AC2 C002      2192            push    ar2
0AC4 C003      2193            push    ar3
0AC6 C004      2194            push    ar4
0AC8 C005      2195            push    ar5
0ACA C002      2196            push    ar2
0ACC C003      2197            push    ar3
0ACE C004      2198            push    ar4
0AD0 C005      2199            push    ar5
0AD2 904094    2200            mov     dptr,#0x4094
0AD5 75F0D6    2201            mov     b,#0xD6
0AD8 743B      2202            mov     a,#0x3B
0ADA 120100    2203            lcall   ___fsmul
0ADD AE82      2204            mov     r6,dpl
0ADF AF83      2205            mov     r7,dph
0AE1 A8F0      2206            mov     r0,b
0AE3 F9        2207            mov     r1,a
0AE4 E581      2208            mov     a,sp
0AE6 24FC      2209            add     a,#0xfc
0AE8 F581      2210            mov     sp,a
0AEA D005      2211            pop     ar5
0AEC D004      2212            pop     ar4
0AEE D003      2213            pop     ar3
0AF0 D002      2214            pop     ar2
0AF2 C002      2215            push    ar2
0AF4 C003      2216            push    ar3
0AF6 C004      2217            push    ar4
0AF8 C005      2218            push    ar5
0AFA C002      2219            push    ar2
0AFC C003      2220            push    ar3
0AFE C004      2221            push    ar4
0B00 C005      2222            push    ar5
0B02 8E82      2223            mov     dpl,r6
0B04 8F83      2224            mov     dph,r7
0B06 88F0      2225            mov     b,r0
0B08 E9        2226            mov     a,r1
0B09 120100    2227            lcall   ___fsmul
0B0C AE82      2228            mov     r6,dpl
0B0E AF83      2229            mov     r7,dph
0B10 A8F0      2230            mov     r0,b
0B12 F9        2231            mov     r1,a
0B13 E581      2232            mov     a,sp
0B15 24FC      2233            add     a,#0xfc
0B17 F581      2234            mov     sp,a
0B19 D005      2235            pop     ar5
0B1B D004      2236            pop     ar4
0B1D D003      2237            pop     ar3
0B1F D002      2238            pop     ar2
0B21 C002      2239            push    ar2
0B23 C003      2240            push    ar3
0B25 C004      2241            push    ar4
0B27 C005      2242            push    ar5
0B29 C002      2243            push    ar2
0B2B C003      2244            push    ar3
0B2D C004      2245            push    ar4
0B2F C005      2246            push    ar5
0B31 8E82      2247            mov     dpl,r6
0B33 8F83      2248            mov     dph,r7
0B35 88F0      2249            mov     b,r0
0B37 E9        2250            mov     a,r1
0B38 120100    2251            lcall   ___fsmul
0B3B AE82      2252            mov     r6,dpl
0B3D AF83      2253            mov     r7,dph
0B3F A8F0      2254            mov     r0,b
0B41 F9        2255            mov     r1,a
0B42 E581      2256            mov     a,sp
0B44 24FC      2257            add     a,#0xfc
0B46 F581      2258            mov     sp,a
0B48 D005      2259            pop     ar5
0B4A D004      2260            pop     ar4
0B4C D003      2261            pop     ar3
0B4E D002      2262            pop     ar2
0B50 C002      2263            push    ar2
0B52 C003      2264            push    ar3
0B54 C004      2265            push    ar4
0B56 C005      2266            push    ar5
0B58 C002      2267            push    ar2
0B5A C003      2268            push    ar3
0B5C C004      2269            push    ar4
0B5E C005      2270            push    ar5
0B60 8E82      2271            mov     dpl,r6
0B62 8F83      2272            mov     dph,r7
0B64 88F0      2273            mov     b,r0
0B66 E9        2274            mov     a,r1
0B67 120100    2275            lcall   ___fsmul
0B6A 8582C8    2276            mov     _main_sloc0_1_0,dpl
0B6D 8583C9    2277            mov     (_main_sloc0_1_0 + 1),dph
0B70 85F0CA    2278            mov     (_main_sloc0_1_0 + 2),b
0B73 F5CB      2279            mov     (_main_sloc0_1_0 + 3),a
0B75 E581      2280            mov     a,sp
0B77 24FC      2281            add     a,#0xfc
0B79 F581      2282            mov     sp,a
0B7B D005      2283            pop     ar5
0B7D D004      2284            pop     ar4
0B7F D003      2285            pop     ar3
0B81 D002      2286            pop     ar2
0B83 C002      2287            push    ar2
0B85 C003      2288            push    ar3
0B87 C004      2289            push    ar4
0B89 C005      2290            push    ar5
0B8B C002      2291            push    ar2
0B8D C003      2292            push    ar3
0B8F C004      2293            push    ar4
0B91 C005      2294            push    ar5
0B93 908BE6    2295            mov     dptr,#0x8BE6
0B96 75F00F    2296            mov     b,#0x0F
0B99 7440      2297            mov     a,#0x40
0B9B 120100    2298            lcall   ___fsmul
0B9E AE82      2299            mov     r6,dpl
0BA0 AF83      2300            mov     r7,dph
0BA2 A8F0      2301            mov     r0,b
0BA4 F9        2302            mov     r1,a
0BA5 E581      2303            mov     a,sp
0BA7 24FC      2304            add     a,#0xfc
0BA9 F581      2305            mov     sp,a
0BAB D005      2306            pop     ar5
0BAD D004      2307            pop     ar4
0BAF D003      2308            pop     ar3
0BB1 D002      2309            pop     ar2
0BB3 C002      2310            push    ar2
0BB5 C003      2311            push    ar3
0BB7 C004      2312            push    ar4
0BB9 C005      2313            push    ar5
0BBB C002      2314            push    ar2
0BBD C003      2315            push    ar3
0BBF C004      2316            push    ar4
0BC1 C005      2317            push    ar5
0BC3 8E82      2318            mov     dpl,r6
0BC5 8F83      2319            mov     dph,r7
0BC7 88F0      2320            mov     b,r0
0BC9 E9        2321            mov     a,r1
0BCA 120100    2322            lcall   ___fsmul
0BCD AE82      2323            mov     r6,dpl
0BCF AF83      2324            mov     r7,dph
0BD1 A8F0      2325            mov     r0,b
0BD3 F9        2326            mov     r1,a
0BD4 E581      2327            mov     a,sp
0BD6 24FC      2328            add     a,#0xfc
0BD8 F581      2329            mov     sp,a
0BDA D005      2330            pop     ar5
0BDC D004      2331            pop     ar4
0BDE D003      2332            pop     ar3
0BE0 D002      2333            pop     ar2
0BE2 C002      2334            push    ar2
0BE4 C003      2335            push    ar3
0BE6 C004      2336            push    ar4
0BE8 C005      2337            push    ar5
0BEA C002      2338            push    ar2
0BEC C003      2339            push    ar3
0BEE C004      2340            push    ar4
0BF0 C005      2341            push    ar5
0BF2 8E82      2342            mov     dpl,r6
0BF4 8F83      2343            mov     dph,r7
0BF6 88F0      2344            mov     b,r0
0BF8 E9        2345            mov     a,r1
0BF9 120100    2346            lcall   ___fsmul
0BFC AE82      2347            mov     r6,dpl
0BFE AF83      2348            mov     r7,dph
0C00 A8F0      2349            mov     r0,b
0C02 F9        2350            mov     r1,a
0C03 E581      2351            mov     a,sp
0C05 24FC      2352            add     a,#0xfc
0C07 F581      2353            mov     sp,a
0C09 C006      2354            push    ar6
0C0B C007      2355            push    ar7
0C0D C000      2356            push    ar0
0C0F C001      2357            push    ar1
0C11 85C882    2358            mov     dpl,_main_sloc0_1_0
0C14 85C983    2359            mov     dph,(_main_sloc0_1_0 + 1)
0C17 85CAF0    2360            mov     b,(_main_sloc0_1_0 + 2)
0C1A E5CB      2361            mov     a,(_main_sloc0_1_0 + 3)
0C1C 120100    2362            lcall   ___fssub
0C1F 8582C8    2363            mov     _main_sloc0_1_0,dpl
0C22 8583C9    2364            mov     (_main_sloc0_1_0 + 1),dph
0C25 85F0CA    2365            mov     (_main_sloc0_1_0 + 2),b
0C28 F5CB      2366            mov     (_main_sloc0_1_0 + 3),a
0C2A E581      2367            mov     a,sp
0C2C 24FC      2368            add     a,#0xfc
0C2E F581      2369            mov     sp,a
0C30 D005      2370            pop     ar5
0C32 D004      2371            pop     ar4
0C34 D003      2372            pop     ar3
0C36 D002      2373            pop     ar2
0C38 C002      2374            push    ar2
0C3A C003      2375            push    ar3
0C3C C004      2376            push    ar4
0C3E C005      2377            push    ar5
0C40 C002      2378            push    ar2
0C42 C003      2379            push    ar3
0C44 C004      2380            push    ar4
0C46 C005      2381            push    ar5
0C48 90DAEB    2382            mov     dptr,#0xDAEB
0C4B 75F08F    2383            mov     b,#0x8F
0C4E 7443      2384            mov     a,#0x43
0C50 120100    2385            lcall   ___fsmul
0C53 AE82      2386            mov     r6,dpl
0C55 AF83      2387            mov     r7,dph
0C57 A8F0      2388            mov     r0,b
0C59 F9        2389            mov     r1,a
0C5A E581      2390            mov     a,sp
0C5C 24FC      2391            add     a,#0xfc
0C5E F581      2392            mov     sp,a
0C60 8E82      2393            mov     dpl,r6
0C62 8F83      2394            mov     dph,r7
0C64 88F0      2395            mov     b,r0
0C66 E9        2396            mov     a,r1
0C67 120100    2397            lcall   ___fsmul
0C6A AA82      2398            mov     r2,dpl
0C6C AB83      2399            mov     r3,dph
0C6E ACF0      2400            mov     r4,b
0C70 FD        2401            mov     r5,a
0C71 E581      2402            mov     a,sp
0C73 24FC      2403            add     a,#0xfc
0C75 F581      2404            mov     sp,a
0C77 C002      2405            push    ar2
0C79 C003      2406            push    ar3
0C7B C004      2407            push    ar4
0C7D C005      2408            push    ar5
0C7F 85C882    2409            mov     dpl,_main_sloc0_1_0
0C82 85C983    2410            mov     dph,(_main_sloc0_1_0 + 1)
0C85 85CAF0    2411            mov     b,(_main_sloc0_1_0 + 2)
0C88 E5CB      2412            mov     a,(_main_sloc0_1_0 + 3)
0C8A 120100    2413            lcall   ___fsadd
0C8D AA82      2414            mov     r2,dpl
0C8F AB83      2415            mov     r3,dph
0C91 ACF0      2416            mov     r4,b
0C93 FD        2417            mov     r5,a
0C94 E581      2418            mov     a,sp
0C96 24FC      2419            add     a,#0xfc
0C98 F581      2420            mov     sp,a
0C9A 74D8      2421            mov     a,#0xD8
0C9C C0E0      2422            push    acc
0C9E 7413      2423            mov     a,#0x13
0CA0 C0E0      2424            push    acc
0CA2 749D      2425            mov     a,#0x9D
0CA4 C0E0      2426            push    acc
0CA6 74C9      2427            mov     a,#0xC9
0CA8 C0E0      2428            push    acc
0CAA 8A82      2429            mov     dpl,r2
0CAC 8B83      2430            mov     dph,r3
0CAE 8CF0      2431            mov     b,r4
0CB0 ED        2432            mov     a,r5
0CB1 120100    2433            lcall   ___fsadd
0CB4 AA82      2434            mov     r2,dpl
0CB6 AB83      2435            mov     r3,dph
0CB8 ACF0      2436            mov     r4,b
0CBA FD        2437            mov     r5,a
0CBB E581      2438            mov     a,sp
0CBD 24FC      2439            add     a,#0xfc
0CBF F581      2440            mov     sp,a
0CC1           2441   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:274: temp = 100 - temp;
0CC1 7464      2442            mov     a,#0x64
0CC3 C3        2443            clr     c
0CC4 9538      2444            subb    a,_main_temp_1_58
0CC6 F538      2445            mov     _main_temp_1_58,a
0CC8 E4        2446            clr     a
0CC9 9539      2447            subb    a,(_main_temp_1_58 + 1)
0CCB F539      2448            mov     (_main_temp_1_58 + 1),a
0CCD 020100    2449            ljmp    L007017?
0CD0           2450   L007016?:
0CD0           2451   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:277: tempD = (0.00653846*temp*temp*temp*temp)-(2.24291375*temp*temp*temp)+(287.7103*temp*temp)-(16395.59*100)+352780;
0CD0 853882    2452            mov     dpl,_main_temp_1_58
0CD3 853983    2453            mov     dph,(_main_temp_1_58 + 1)
0CD6 120100    2454            lcall   ___sint2fs
0CD9 8582C8    2455            mov     _main_sloc0_1_0,dpl
0CDC 8583C9    2456            mov     (_main_sloc0_1_0 + 1),dph
0CDF 85F0CA    2457            mov     (_main_sloc0_1_0 + 2),b
0CE2 F5CB      2458            mov     (_main_sloc0_1_0 + 3),a
0CE4 C0C8      2459            push    _main_sloc0_1_0
0CE6 C0C9      2460            push    (_main_sloc0_1_0 + 1)
0CE8 C0CA      2461            push    (_main_sloc0_1_0 + 2)
0CEA C0CB      2462            push    (_main_sloc0_1_0 + 3)
0CEC 904094    2463            mov     dptr,#0x4094
0CEF 75F0D6    2464            mov     b,#0xD6
0CF2 743B      2465            mov     a,#0x3B
0CF4 120100    2466            lcall   ___fsmul
0CF7 AE82      2467            mov     r6,dpl
0CF9 AF83      2468            mov     r7,dph
0CFB A8F0      2469            mov     r0,b
0CFD F9        2470            mov     r1,a
0CFE E581      2471            mov     a,sp
0D00 24FC      2472            add     a,#0xfc
0D02 F581      2473            mov     sp,a
0D04 C0C8      2474            push    _main_sloc0_1_0
0D06 C0C9      2475            push    (_main_sloc0_1_0 + 1)
0D08 C0CA      2476            push    (_main_sloc0_1_0 + 2)
0D0A C0CB      2477            push    (_main_sloc0_1_0 + 3)
0D0C 8E82      2478            mov     dpl,r6
0D0E 8F83      2479            mov     dph,r7
0D10 88F0      2480            mov     b,r0
0D12 E9        2481            mov     a,r1
0D13 120100    2482            lcall   ___fsmul
0D16 AE82      2483            mov     r6,dpl
0D18 AF83      2484            mov     r7,dph
0D1A A8F0      2485            mov     r0,b
0D1C F9        2486            mov     r1,a
0D1D E581      2487            mov     a,sp
0D1F 24FC      2488            add     a,#0xfc
0D21 F581      2489            mov     sp,a
0D23 C0C8      2490            push    _main_sloc0_1_0
0D25 C0C9      2491            push    (_main_sloc0_1_0 + 1)
0D27 C0CA      2492            push    (_main_sloc0_1_0 + 2)
0D29 C0CB      2493            push    (_main_sloc0_1_0 + 3)
0D2B 8E82      2494            mov     dpl,r6
0D2D 8F83      2495            mov     dph,r7
0D2F 88F0      2496            mov     b,r0
0D31 E9        2497            mov     a,r1
0D32 120100    2498            lcall   ___fsmul
0D35 AE82      2499            mov     r6,dpl
0D37 AF83      2500            mov     r7,dph
0D39 A8F0      2501            mov     r0,b
0D3B F9        2502            mov     r1,a
0D3C E581      2503            mov     a,sp
0D3E 24FC      2504            add     a,#0xfc
0D40 F581      2505            mov     sp,a
0D42 C0C8      2506            push    _main_sloc0_1_0
0D44 C0C9      2507            push    (_main_sloc0_1_0 + 1)
0D46 C0CA      2508            push    (_main_sloc0_1_0 + 2)
0D48 C0CB      2509            push    (_main_sloc0_1_0 + 3)
0D4A 8E82      2510            mov     dpl,r6
0D4C 8F83      2511            mov     dph,r7
0D4E 88F0      2512            mov     b,r0
0D50 E9        2513            mov     a,r1
0D51 120100    2514            lcall   ___fsmul
0D54 858208    2515            mov     _main_sloc1_1_0,dpl
0D57 858309    2516            mov     (_main_sloc1_1_0 + 1),dph
0D5A 85F00A    2517            mov     (_main_sloc1_1_0 + 2),b
0D5D F50B      2518            mov     (_main_sloc1_1_0 + 3),a
0D5F E581      2519            mov     a,sp
0D61 24FC      2520            add     a,#0xfc
0D63 F581      2521            mov     sp,a
0D65 C0C8      2522            push    _main_sloc0_1_0
0D67 C0C9      2523            push    (_main_sloc0_1_0 + 1)
0D69 C0CA      2524            push    (_main_sloc0_1_0 + 2)
0D6B C0CB      2525            push    (_main_sloc0_1_0 + 3)
0D6D 908BE6    2526            mov     dptr,#0x8BE6
0D70 75F00F    2527            mov     b,#0x0F
0D73 7440      2528            mov     a,#0x40
0D75 120100    2529            lcall   ___fsmul
0D78 AE82      2530            mov     r6,dpl
0D7A AF83      2531            mov     r7,dph
0D7C A8F0      2532            mov     r0,b
0D7E F9        2533            mov     r1,a
0D7F E581      2534            mov     a,sp
0D81 24FC      2535            add     a,#0xfc
0D83 F581      2536            mov     sp,a
0D85 C0C8      2537            push    _main_sloc0_1_0
0D87 C0C9      2538            push    (_main_sloc0_1_0 + 1)
0D89 C0CA      2539            push    (_main_sloc0_1_0 + 2)
0D8B C0CB      2540            push    (_main_sloc0_1_0 + 3)
0D8D 8E82      2541            mov     dpl,r6
0D8F 8F83      2542            mov     dph,r7
0D91 88F0      2543            mov     b,r0
0D93 E9        2544            mov     a,r1
0D94 120100    2545            lcall   ___fsmul
0D97 AE82      2546            mov     r6,dpl
0D99 AF83      2547            mov     r7,dph
0D9B A8F0      2548            mov     r0,b
0D9D F9        2549            mov     r1,a
0D9E E581      2550            mov     a,sp
0DA0 24FC      2551            add     a,#0xfc
0DA2 F581      2552            mov     sp,a
0DA4 C0C8      2553            push    _main_sloc0_1_0
0DA6 C0C9      2554            push    (_main_sloc0_1_0 + 1)
0DA8 C0CA      2555            push    (_main_sloc0_1_0 + 2)
0DAA C0CB      2556            push    (_main_sloc0_1_0 + 3)
0DAC 8E82      2557            mov     dpl,r6
0DAE 8F83      2558            mov     dph,r7
0DB0 88F0      2559            mov     b,r0
0DB2 E9        2560            mov     a,r1
0DB3 120100    2561            lcall   ___fsmul
0DB6 AE82      2562            mov     r6,dpl
0DB8 AF83      2563            mov     r7,dph
0DBA A8F0      2564            mov     r0,b
0DBC F9        2565            mov     r1,a
0DBD E581      2566            mov     a,sp
0DBF 24FC      2567            add     a,#0xfc
0DC1 F581      2568            mov     sp,a
0DC3 C006      2569            push    ar6
0DC5 C007      2570            push    ar7
0DC7 C000      2571            push    ar0
0DC9 C001      2572            push    ar1
0DCB 850882    2573            mov     dpl,_main_sloc1_1_0
0DCE 850983    2574            mov     dph,(_main_sloc1_1_0 + 1)
0DD1 850AF0    2575            mov     b,(_main_sloc1_1_0 + 2)
0DD4 E50B      2576            mov     a,(_main_sloc1_1_0 + 3)
0DD6 120100    2577            lcall   ___fssub
0DD9 858208    2578            mov     _main_sloc1_1_0,dpl
0DDC 858309    2579            mov     (_main_sloc1_1_0 + 1),dph
0DDF 85F00A    2580            mov     (_main_sloc1_1_0 + 2),b
0DE2 F50B      2581            mov     (_main_sloc1_1_0 + 3),a
0DE4 E581      2582            mov     a,sp
0DE6 24FC      2583            add     a,#0xfc
0DE8 F581      2584            mov     sp,a
0DEA C0C8      2585            push    _main_sloc0_1_0
0DEC C0C9      2586            push    (_main_sloc0_1_0 + 1)
0DEE C0CA      2587            push    (_main_sloc0_1_0 + 2)
0DF0 C0CB      2588            push    (_main_sloc0_1_0 + 3)
0DF2 90DAEB    2589            mov     dptr,#0xDAEB
0DF5 75F08F    2590            mov     b,#0x8F
0DF8 7443      2591            mov     a,#0x43
0DFA 120100    2592            lcall   ___fsmul
0DFD AE82      2593            mov     r6,dpl
0DFF AF83      2594            mov     r7,dph
0E01 A8F0      2595            mov     r0,b
0E03 F9        2596            mov     r1,a
0E04 E581      2597            mov     a,sp
0E06 24FC      2598            add     a,#0xfc
0E08 F581      2599            mov     sp,a
0E0A C0C8      2600            push    _main_sloc0_1_0
0E0C C0C9      2601            push    (_main_sloc0_1_0 + 1)
0E0E C0CA      2602            push    (_main_sloc0_1_0 + 2)
0E10 C0CB      2603            push    (_main_sloc0_1_0 + 3)
0E12 8E82      2604            mov     dpl,r6
0E14 8F83      2605            mov     dph,r7
0E16 88F0      2606            mov     b,r0
0E18 E9        2607            mov     a,r1
0E19 120100    2608            lcall   ___fsmul
0E1C AE82      2609            mov     r6,dpl
0E1E AF83      2610            mov     r7,dph
0E20 A8F0      2611            mov     r0,b
0E22 F9        2612            mov     r1,a
0E23 E581      2613            mov     a,sp
0E25 24FC      2614            add     a,#0xfc
0E27 F581      2615            mov     sp,a
0E29 C006      2616            push    ar6
0E2B C007      2617            push    ar7
0E2D C000      2618            push    ar0
0E2F C001      2619            push    ar1
0E31 850882    2620            mov     dpl,_main_sloc1_1_0
0E34 850983    2621            mov     dph,(_main_sloc1_1_0 + 1)
0E37 850AF0    2622            mov     b,(_main_sloc1_1_0 + 2)
0E3A E50B      2623            mov     a,(_main_sloc1_1_0 + 3)
0E3C 120100    2624            lcall   ___fsadd
0E3F AE82      2625            mov     r6,dpl
0E41 AF83      2626            mov     r7,dph
0E43 A8F0      2627            mov     r0,b
0E45 F9        2628            mov     r1,a
0E46 E581      2629            mov     a,sp
0E48 24FC      2630            add     a,#0xfc
0E4A F581      2631            mov     sp,a
0E4C 74D8      2632            mov     a,#0xD8
0E4E C0E0      2633            push    acc
0E50 7413      2634            mov     a,#0x13
0E52 C0E0      2635            push    acc
0E54 749D      2636            mov     a,#0x9D
0E56 C0E0      2637            push    acc
0E58 74C9      2638            mov     a,#0xC9
0E5A C0E0      2639            push    acc
0E5C 8E82      2640            mov     dpl,r6
0E5E 8F83      2641            mov     dph,r7
0E60 88F0      2642            mov     b,r0
0E62 E9        2643            mov     a,r1
0E63 120100    2644            lcall   ___fsadd
0E66 AA82      2645            mov     r2,dpl
0E68 AB83      2646            mov     r3,dph
0E6A ACF0      2647            mov     r4,b
0E6C FD        2648            mov     r5,a
0E6D E581      2649            mov     a,sp
0E6F 24FC      2650            add     a,#0xfc
0E71 F581      2651            mov     sp,a
0E73           2652   L007017?:
0E73           2653   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:280: PWM_TIME *= tempD/360;
0E73 E4        2654            clr     a
0E74 C0E0      2655            push    acc
0E76 C0E0      2656            push    acc
0E78 74B4      2657            mov     a,#0xB4
0E7A C0E0      2658            push    acc
0E7C 7443      2659            mov     a,#0x43
0E7E C0E0      2660            push    acc
0E80 8A82      2661            mov     dpl,r2
0E82 8B83      2662            mov     dph,r3
0E84 8CF0      2663            mov     b,r4
0E86 ED        2664            mov     a,r5
0E87 120100    2665            lcall   ___fsdiv
0E8A AA82      2666            mov     r2,dpl
0E8C AB83      2667            mov     r3,dph
0E8E ACF0      2668            mov     r4,b
0E90 FD        2669            mov     r5,a
0E91 E581      2670            mov     a,sp
0E93 24FC      2671            add     a,#0xfc
0E95 F581      2672            mov     sp,a
0E97 85C082    2673            mov     dpl,_PWM_TIME
0E9A 85C183    2674            mov     dph,(_PWM_TIME + 1)
0E9D C002      2675            push    ar2
0E9F C003      2676            push    ar3
0EA1 C004      2677            push    ar4
0EA3 C005      2678            push    ar5
0EA5 120100    2679            lcall   ___uint2fs
0EA8 120100    2680            lcall   ___fsmul
0EAB AA82      2681            mov     r2,dpl
0EAD AB83      2682            mov     r3,dph
0EAF ACF0      2683            mov     r4,b
0EB1 FD        2684            mov     r5,a
0EB2 E581      2685            mov     a,sp
0EB4 24FC      2686            add     a,#0xfc
0EB6 F581      2687            mov     sp,a
0EB8 8A82      2688            mov     dpl,r2
0EBA 8B83      2689            mov     dph,r3
0EBC 8CF0      2690            mov     b,r4
0EBE ED        2691            mov     a,r5
0EBF 120100    2692            lcall   ___fs2uint
0EC2 8582C0    2693            mov     _PWM_TIME,dpl
0EC5 8583C1    2694            mov     (_PWM_TIME + 1),dph
0EC8           2695   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:282: waitms(500);
0EC8 9001F4    2696            mov     dptr,#0x01F4
0ECB 120100    2697            lcall   _waitms
0ECE           2698   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:284: PWM_TURN=50;
0ECE 75C032    2699            mov     _PWM_TURN,#0x32
0ED1 E4        2700            clr     a
0ED2 F5C1      2701            mov     (_PWM_TURN + 1),a
0ED4           2702   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:285: PWM_OFF=0;
0ED4 E4        2703            clr     a
0ED5 F500      2704            mov     _PWM_OFF,a
0ED7 F501      2705            mov     (_PWM_OFF + 1),a
0ED9           2706   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:286: waitms(500);
0ED9 9001F4    2707            mov     dptr,#0x01F4
0EDC 120100    2708            lcall   _waitms
0EDF           2709   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:288: count_angle=1;                 // start counting centiseconds
0EDF 754001    2710            mov     _count_angle,#0x01
0EE2 E4        2711            clr     a
0EE3 F541      2712            mov     (_count_angle + 1),a
0EE5           2713   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:289: PWM_TURN=temp;                 // run motor
0EE5 8538C0    2714            mov     _PWM_TURN,_main_temp_1_58
0EE8 8539C1    2715            mov     (_PWM_TURN + 1),(_main_temp_1_58 + 1)
0EEB           2716   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:290: while(PWM_TIME > 1000) {
0EEB           2717   L007018?:
0EEB C3        2718            clr     c
0EEC 74E8      2719            mov     a,#0xE8
0EEE 95C0      2720            subb    a,_PWM_TIME
0EF0 7403      2721            mov     a,#0x03
0EF2 95C1      2722            subb    a,(_PWM_TIME + 1)
0EF4 5001      2723            jnc     L007020?
0EF6           2724   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:291: waitms(1000);
0EF6 9003E8    2725            mov     dptr,#0x03E8
0EF9 120100    2726            lcall   _waitms
0EFC           2727   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:292: PWM_TIME -= 1000;
0EFC E5C0      2728            mov     a,_PWM_TIME
0EFE 2418      2729            add     a,#0x18
0F00 F5C0      2730            mov     _PWM_TIME,a
0F02 E5C1      2731            mov     a,(_PWM_TIME + 1)
0F04 34FC      2732            addc    a,#0xfc
0F06 F5C1      2733            mov     (_PWM_TIME + 1),a
0F08 8001      2734            sjmp    L007018?
0F0A           2735   L007020?:
0F0A           2736   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:294: waitms(PWM_TIME);
0F0A 85C082    2737            mov     dpl,_PWM_TIME
0F0D 85C183    2738            mov     dph,(_PWM_TIME + 1)
0F10 120100    2739            lcall   _waitms
0F13           2740   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:295: PWM_OFF=1;                     // turn off motor
0F13 750001    2741            mov     _PWM_OFF,#0x01
0F16 E4        2742            clr     a
0F17 F501      2743            mov     (_PWM_OFF + 1),a
0F19           2744   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:296: count_angle=0;                 // stop counting centiseconds
0F19           2745   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:297: temp=0;
0F19 E4        2746            clr     a
0F1A F540      2747            mov     _count_angle,a
0F1C F541      2748            mov     (_count_angle + 1),a
0F1E F538      2749            mov     _main_temp_1_58,a
0F20 F539      2750            mov     (_main_temp_1_58 + 1),a
0F22           2751   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:300: current_angle = getAngle(current_angle, centiseconds, PWM_TURN);
0F22 858040    2752            mov     _getAngle_PARM_2,_centiseconds
0F25 858141    2753            mov     (_getAngle_PARM_2 + 1),(_centiseconds + 1)
0F28 858242    2754            mov     (_getAngle_PARM_2 + 2),(_centiseconds + 2)
0F2B 858343    2755            mov     (_getAngle_PARM_2 + 3),(_centiseconds + 3)
0F2E 85C0F0    2756            mov     _getAngle_PARM_3,_PWM_TURN
0F31 85C1F1    2757            mov     (_getAngle_PARM_3 + 1),(_PWM_TURN + 1)
0F34 858082    2758            mov     dpl,_current_angle
0F37 858183    2759            mov     dph,(_current_angle + 1)
0F3A 120100    2760            lcall   _getAngle
0F3D 858280    2761            mov     _current_angle,dpl
0F40 858381    2762            mov     (_current_angle + 1),dph
0F43           2763   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:301: printf("\nCurrent angle: %i", current_angle);
0F43 C080      2764            push    _current_angle
0F45 C081      2765            push    (_current_angle + 1)
0F47 7498      2766            mov     a,#__str_16
0F49 C0E0      2767            push    acc
0F4B 74C9      2768            mov     a,#(__str_16 >> 8)
0F4D C0E0      2769            push    acc
0F4F 7480      2770            mov     a,#0x80
0F51 C0E0      2771            push    acc
0F53 120100    2772            lcall   _printf
0F56 E581      2773            mov     a,sp
0F58 24FB      2774            add     a,#0xfb
0F5A F581      2775            mov     sp,a
0F5C           2776   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:302: centiseconds = 0;
0F5C           2777   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:303: PWM_MODE=0;                    // reset to mode 0
0F5C E4        2778            clr     a
0F5D F580      2779            mov     _centiseconds,a
0F5F F581      2780            mov     (_centiseconds + 1),a
0F61 F582      2781            mov     (_centiseconds + 2),a
0F63 F583      2782            mov     (_centiseconds + 3),a
0F65 F540      2783            mov     _PWM_MODE,a
0F67 F541      2784            mov     (_PWM_MODE + 1),a
0F69           2785   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:305: break;
0F69 020100    2786            ljmp    L007048?
0F6C           2787   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:308: case 5:
0F6C           2788   L007021?:
0F6C           2789   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:309: direction=0;
0F6C E4        2790            clr     a
0F6D F588      2791            mov     _main_direction_1_58,a
0F6F F589      2792            mov     (_main_direction_1_58 + 1),a
0F71           2793   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:310: srand(1238912831);
0F71 904F3F    2794            mov     dptr,#0x4F3F
0F74 120100    2795            lcall   _srand
0F77           2796   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:311: printf("\n\n\n\nWarning! There is no return from disco mode.");
0F77 7498      2797            mov     a,#__str_21
0F79 C0E0      2798            push    acc
0F7B 74CE      2799            mov     a,#(__str_21 >> 8)
0F7D C0E0      2800            push    acc
0F7F 7480      2801            mov     a,#0x80
0F81 C0E0      2802            push    acc
0F83 120100    2803            lcall   _printf
0F86 1581      2804            dec     sp
0F88 1581      2805            dec     sp
0F8A 1581      2806            dec     sp
0F8C           2807   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:312: waitms(500);
0F8C 9001F4    2808            mov     dptr,#0x01F4
0F8F 120100    2809            lcall   _waitms
0F92           2810   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:313: printf("\n{  To back out, enter speed -1");
0F92 74D8      2811            mov     a,#__str_22
0F94 C0E0      2812            push    acc
0F96 74CE      2813            mov     a,#(__str_22 >> 8)
0F98 C0E0      2814            push    acc
0F9A 7480      2815            mov     a,#0x80
0F9C C0E0      2816            push    acc
0F9E 120100    2817            lcall   _printf
0FA1 1581      2818            dec     sp
0FA3 1581      2819            dec     sp
0FA5 1581      2820            dec     sp
0FA7           2821   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:314: printf("\n|  Fun mode is also available by entering -2!");
0FA7 7418      2822            mov     a,#__str_23
0FA9 C0E0      2823            push    acc
0FAB 74CF      2824            mov     a,#(__str_23 >> 8)
0FAD C0E0      2825            push    acc
0FAF 7480      2826            mov     a,#0x80
0FB1 C0E0      2827            push    acc
0FB3 120100    2828            lcall   _printf
0FB6 1581      2829            dec     sp
0FB8 1581      2830            dec     sp
0FBA 1581      2831            dec     sp
0FBC           2832   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:315: printf("\n|  \n|  Once dancing, always dancing! Have fun!");
0FBC 7458      2833            mov     a,#__str_24
0FBE C0E0      2834            push    acc
0FC0 74CF      2835            mov     a,#(__str_24 >> 8)
0FC2 C0E0      2836            push    acc
0FC4 7480      2837            mov     a,#0x80
0FC6 C0E0      2838            push    acc
0FC8 120100    2839            lcall   _printf
0FCB 1581      2840            dec     sp
0FCD 1581      2841            dec     sp
0FCF 1581      2842            dec     sp
0FD1           2843   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:316: printf("\n Speed? (0 to 1000)\n");
0FD1 7498      2844            mov     a,#__str_25
0FD3 C0E0      2845            push    acc
0FD5 74CF      2846            mov     a,#(__str_25 >> 8)
0FD7 C0E0      2847            push    acc
0FD9 7480      2848            mov     a,#0x80
0FDB C0E0      2849            push    acc
0FDD 120100    2850            lcall   _printf
0FE0 1581      2851            dec     sp
0FE2 1581      2852            dec     sp
0FE4 1581      2853            dec     sp
0FE6           2854   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:318: scanf(" %i", &temp);
0FE6 7438      2855            mov     a,#_main_temp_1_58
0FE8 C0E0      2856            push    acc
0FEA 74B7      2857            mov     a,#(_main_temp_1_58 >> 8)
0FEC C0E0      2858            push    acc
0FEE 7440      2859            mov     a,#0x40
0FF0 C0E0      2860            push    acc
0FF2 7498      2861            mov     a,#__str_15
0FF4 C0E0      2862            push    acc
0FF6 74C6      2863            mov     a,#(__str_15 >> 8)
0FF8 C0E0      2864            push    acc
0FFA 7480      2865            mov     a,#0x80
0FFC C0E0      2866            push    acc
0FFE 120100    2867            lcall   _scanf
1001 E581      2868            mov     a,sp
1003 24FA      2869            add     a,#0xfa
1005 F581      2870            mov     sp,a
1007           2871   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:319: if(temp == -1) break;
1007 74FF      2872            mov     a,#0xFF
1009 B538D8    2873            cjne    a,_main_temp_1_58,L007076?
100C 74FF      2874            mov     a,#0xFF
100E B539D8    2875            cjne    a,(_main_temp_1_58 + 1),L007076?
1011 020100    2876            ljmp    L007048?
1014           2877   L007076?:
1014           2878   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:320: else if(temp == -2) direction=1;
1014 74FE      2879            mov     a,#0xFE
1016 B53818    2880            cjne    a,_main_temp_1_58,L007027?
1019 74FF      2881            mov     a,#0xFF
101B B53918    2882            cjne    a,(_main_temp_1_58 + 1),L007027?
101E 758801    2883            mov     _main_direction_1_58,#0x01
1021 E4        2884            clr     a
1022 F589      2885            mov     (_main_direction_1_58 + 1),a
1024 8001      2886            sjmp    L007036?
1026           2887   L007027?:
1026           2888   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:321: else if(temp >= 0 && temp <= 1000) PWM_TIME = 550-temp/2;
1026 E539      2889            mov     a,(_main_temp_1_58 + 1)
1028 20E798    2890            jb      acc.7,L007023?
102B C3        2891            clr     c
102C 74E8      2892            mov     a,#0xE8
102E 9538      2893            subb    a,_main_temp_1_58
1030 7483      2894            mov     a,#(0x03 ^ 0x80)
1032 8539F0    2895            mov     b,(_main_temp_1_58 + 1)
1035 63F080    2896            xrl     b,#0x80
1038 95F0      2897            subb    a,b
103A 4001      2898            jc      L007023?
103C 750002    2899            mov     __divsint_PARM_2,#0x02
103F E4        2900            clr     a
1040 F501      2901            mov     (__divsint_PARM_2 + 1),a
1042 853882    2902            mov     dpl,_main_temp_1_58
1045 853983    2903            mov     dph,(_main_temp_1_58 + 1)
1048 120100    2904            lcall   __divsint
104B AA82      2905            mov     r2,dpl
104D AB83      2906            mov     r3,dph
104F 7426      2907            mov     a,#0x26
1051 C3        2908            clr     c
1052 9A        2909            subb    a,r2
1053 F5C0      2910            mov     _PWM_TIME,a
1055 7402      2911            mov     a,#0x02
1057 9B        2912            subb    a,r3
1058 F5C1      2913            mov     (_PWM_TIME + 1),a
105A 8001      2914            sjmp    L007036?
105C           2915   L007023?:
105C           2916   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:322: else PWM_TIME = 500;
105C 75C0F4    2917            mov     _PWM_TIME,#0xF4
105F 75C101    2918            mov     (_PWM_TIME + 1),#0x01
1062           2919   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:324: while(1) {
1062           2920   L007036?:
1062           2921   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:325: if(direction==1) {
1062 7401      2922            mov     a,#0x01
1064 B58868    2923            cjne    a,_main_direction_1_58,L007081?
1067 E4        2924            clr     a
1068 B58968    2925            cjne    a,(_main_direction_1_58 + 1),L007081?
106B 8001      2926            sjmp    L007082?
106D           2927   L007081?:
106D 8001      2928            sjmp    L007033?
106F           2929   L007082?:
106F           2930   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:326: PWM_OFF=0;
106F E4        2931            clr     a
1070 F500      2932            mov     _PWM_OFF,a
1072 F501      2933            mov     (_PWM_OFF + 1),a
1074           2934   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:327: printf("  DISCO **");
1074 7428      2935            mov     a,#__str_26
1076 C0E0      2936            push    acc
1078 74D2      2937            mov     a,#(__str_26 >> 8)
107A C0E0      2938            push    acc
107C 7480      2939            mov     a,#0x80
107E C0E0      2940            push    acc
1080 120100    2941            lcall   _printf
1083 1581      2942            dec     sp
1085 1581      2943            dec     sp
1087 1581      2944            dec     sp
1089           2945   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:328: PWM_TURN=(rand()%2)*100;
1089 120100    2946            lcall   _rand
108C 750002    2947            mov     __modsint_PARM_2,#0x02
108F E4        2948            clr     a
1090 F501      2949            mov     (__modsint_PARM_2 + 1),a
1092 120100    2950            lcall   __modsint
1095 858200    2951            mov     __mulint_PARM_2,dpl
1098 858301    2952            mov     (__mulint_PARM_2 + 1),dph
109B 900064    2953            mov     dptr,#0x0064
109E 120100    2954            lcall   __mulint
10A1 8582C0    2955            mov     _PWM_TURN,dpl
10A4 8583C1    2956            mov     (_PWM_TURN + 1),dph
10A7           2957   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:329: PWM_TIME = rand()%100;
10A7 120100    2958            lcall   _rand
10AA 750064    2959            mov     __modsint_PARM_2,#0x64
10AD E4        2960            clr     a
10AE F501      2961            mov     (__modsint_PARM_2 + 1),a
10B0 120100    2962            lcall   __modsint
10B3 8582C0    2963            mov     _PWM_TIME,dpl
10B6 8583C1    2964            mov     (_PWM_TIME + 1),dph
10B9           2965   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:330: waitms(PWM_TIME);
10B9 85C082    2966            mov     dpl,_PWM_TIME
10BC 85C183    2967            mov     dph,(_PWM_TIME + 1)
10BF 120100    2968            lcall   _waitms
10C2 8001      2969            sjmp    L007036?
10C4           2970   L007033?:
10C4           2971   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:333: printf("  DISCO **");
10C4 7428      2972            mov     a,#__str_26
10C6 C0E0      2973            push    acc
10C8 74D2      2974            mov     a,#(__str_26 >> 8)
10CA C0E0      2975            push    acc
10CC 7480      2976            mov     a,#0x80
10CE C0E0      2977            push    acc
10D0 120100    2978            lcall   _printf
10D3 1581      2979            dec     sp
10D5 1581      2980            dec     sp
10D7 1581      2981            dec     sp
10D9           2982   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:334: PWM_TURN=100;
10D9 75C064    2983            mov     _PWM_TURN,#0x64
10DC E4        2984            clr     a
10DD F5C1      2985            mov     (_PWM_TURN + 1),a
10DF           2986   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:335: PWM_OFF=0;
10DF E4        2987            clr     a
10E0 F500      2988            mov     _PWM_OFF,a
10E2 F501      2989            mov     (_PWM_OFF + 1),a
10E4           2990   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:336: waitms(PWM_TIME);
10E4 85C082    2991            mov     dpl,_PWM_TIME
10E7 85C183    2992            mov     dph,(_PWM_TIME + 1)
10EA 120100    2993            lcall   _waitms
10ED           2994   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:337: PWM_TURN=0;
10ED E4        2995            clr     a
10EE F5C0      2996            mov     _PWM_TURN,a
10F0 F5C1      2997            mov     (_PWM_TURN + 1),a
10F2           2998   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:338: waitms(PWM_TIME);
10F2 85C082    2999            mov     dpl,_PWM_TIME
10F5 85C183    3000            mov     dph,(_PWM_TIME + 1)
10F8 120100    3001            lcall   _waitms
10FB 020100    3002            ljmp    L007036?
10FE           3003   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:343: case 6:
10FE           3004   L007038?:
10FE           3005   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:374: direction=0;
10FE           3006   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:375: temp=0;
10FE E4        3007            clr     a
10FF F588      3008            mov     _main_direction_1_58,a
1101 F589      3009            mov     (_main_direction_1_58 + 1),a
1103 F538      3010            mov     _main_temp_1_58,a
1105 F539      3011            mov     (_main_temp_1_58 + 1),a
1107           3012   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:376: break;
1107 020100    3013            ljmp    L007048?
110A           3014   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:378: case 9:
110A           3015   L007039?:
110A           3016   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:379: count_angle=0;
110A E4        3017            clr     a
110B F540      3018            mov     _count_angle,a
110D F541      3019            mov     (_count_angle + 1),a
110F           3020   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:380: PWM_OFF=1;
110F 750001    3021            mov     _PWM_OFF,#0x01
1112 E4        3022            clr     a
1113 F501      3023            mov     (_PWM_OFF + 1),a
1115           3024   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:381: printf("\nResetting . . .");
1115 7438      3025            mov     a,#__str_27
1117 C0E0      3026            push    acc
1119 74D3      3027            mov     a,#(__str_27 >> 8)
111B C0E0      3028            push    acc
111D 7480      3029            mov     a,#0x80
111F C0E0      3030            push    acc
1121 120100    3031            lcall   _printf
1124 1581      3032            dec     sp
1126 1581      3033            dec     sp
1128 1581      3034            dec     sp
112A           3035   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:382: waitms(1000);
112A 9003E8    3036            mov     dptr,#0x03E8
112D 120100    3037            lcall   _waitms
1130           3038   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:383: current_angle = getAngle(current_angle, centiseconds, PWM_TURN);
1130 858040    3039            mov     _getAngle_PARM_2,_centiseconds
1133 858141    3040            mov     (_getAngle_PARM_2 + 1),(_centiseconds + 1)
1136 858242    3041            mov     (_getAngle_PARM_2 + 2),(_centiseconds + 2)
1139 858343    3042            mov     (_getAngle_PARM_2 + 3),(_centiseconds + 3)
113C 85C0F0    3043            mov     _getAngle_PARM_3,_PWM_TURN
113F 85C1F1    3044            mov     (_getAngle_PARM_3 + 1),(_PWM_TURN + 1)
1142 858082    3045            mov     dpl,_current_angle
1145 858183    3046            mov     dph,(_current_angle + 1)
1148 120100    3047            lcall   _getAngle
114B 858280    3048            mov     _current_angle,dpl
114E 858381    3049            mov     (_current_angle + 1),dph
1151           3050   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:384: if(current_angle >= 180) {
1151 C3        3051            clr     c
1152 E580      3052            mov     a,_current_angle
1154 94B4      3053            subb    a,#0xB4
1156 E581      3054            mov     a,(_current_angle + 1)
1158 9400      3055            subb    a,#0x00
115A 4001      3056            jc      L007041?
115C           3057   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:385: PWM_TIME=(360 - current_angle) * 3.5;
115C 7468      3058            mov     a,#0x68
115E C3        3059            clr     c
115F 9580      3060            subb    a,_current_angle
1161 F582      3061            mov     dpl,a
1163 7401      3062            mov     a,#0x01
1165 9581      3063            subb    a,(_current_angle + 1)
1167 F583      3064            mov     dph,a
1169 120100    3065            lcall   ___uint2fs
116C AA82      3066            mov     r2,dpl
116E AB83      3067            mov     r3,dph
1170 ACF0      3068            mov     r4,b
1172 FD        3069            mov     r5,a
1173 C002      3070            push    ar2
1175 C003      3071            push    ar3
1177 C004      3072            push    ar4
1179 C005      3073            push    ar5
117B 900000    3074            mov     dptr,#0x0000
117E 75F060    3075            mov     b,#0x60
1181 7440      3076            mov     a,#0x40
1183 120100    3077            lcall   ___fsmul
1186 AA82      3078            mov     r2,dpl
1188 AB83      3079            mov     r3,dph
118A ACF0      3080            mov     r4,b
118C FD        3081            mov     r5,a
118D E581      3082            mov     a,sp
118F 24FC      3083            add     a,#0xfc
1191 F581      3084            mov     sp,a
1193 8A82      3085            mov     dpl,r2
1195 8B83      3086            mov     dph,r3
1197 8CF0      3087            mov     b,r4
1199 ED        3088            mov     a,r5
119A 120100    3089            lcall   ___fs2uint
119D 8582C0    3090            mov     _PWM_TIME,dpl
11A0 8583C1    3091            mov     (_PWM_TIME + 1),dph
11A3           3092   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:386: PWM_TURN=100;
11A3 75C064    3093            mov     _PWM_TURN,#0x64
11A6 E4        3094            clr     a
11A7 F5C1      3095            mov     (_PWM_TURN + 1),a
11A9 8001      3096            sjmp    L007042?
11AB           3097   L007041?:
11AB           3098   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:389: PWM_TIME=current_angle * 3.5;
11AB 858082    3099            mov     dpl,_current_angle
11AE 858183    3100            mov     dph,(_current_angle + 1)
11B1 120100    3101            lcall   ___uint2fs
11B4 AA82      3102            mov     r2,dpl
11B6 AB83      3103            mov     r3,dph
11B8 ACF0      3104            mov     r4,b
11BA FD        3105            mov     r5,a
11BB C002      3106            push    ar2
11BD C003      3107            push    ar3
11BF C004      3108            push    ar4
11C1 C005      3109            push    ar5
11C3 900000    3110            mov     dptr,#0x0000
11C6 75F060    3111            mov     b,#0x60
11C9 7440      3112            mov     a,#0x40
11CB 120100    3113            lcall   ___fsmul
11CE AA82      3114            mov     r2,dpl
11D0 AB83      3115            mov     r3,dph
11D2 ACF0      3116            mov     r4,b
11D4 FD        3117            mov     r5,a
11D5 E581      3118            mov     a,sp
11D7 24FC      3119            add     a,#0xfc
11D9 F581      3120            mov     sp,a
11DB 8A82      3121            mov     dpl,r2
11DD 8B83      3122            mov     dph,r3
11DF 8CF0      3123            mov     b,r4
11E1 ED        3124            mov     a,r5
11E2 120100    3125            lcall   ___fs2uint
11E5 8582C0    3126            mov     _PWM_TIME,dpl
11E8 8583C1    3127            mov     (_PWM_TIME + 1),dph
11EB           3128   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:390: PWM_TURN=0;
11EB E4        3129            clr     a
11EC F5C0      3130            mov     _PWM_TURN,a
11EE F5C1      3131            mov     (_PWM_TURN + 1),a
11F0           3132   L007042?:
11F0           3133   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:392: PWM_TURN=0;
11F0           3134   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:393: PWM_OFF=0;
11F0 E4        3135            clr     a
11F1 F5C0      3136            mov     _PWM_TURN,a
11F3 F5C1      3137            mov     (_PWM_TURN + 1),a
11F5 F500      3138            mov     _PWM_OFF,a
11F7 F501      3139            mov     (_PWM_OFF + 1),a
11F9           3140   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:394: if(PWM_TIME > 1000) {
11F9 C3        3141            clr     c
11FA 74E8      3142            mov     a,#0xE8
11FC 95C0      3143            subb    a,_PWM_TIME
11FE 7403      3144            mov     a,#0x03
1200 95C1      3145            subb    a,(_PWM_TIME + 1)
1202 5001      3146            jnc     L007044?
1204           3147   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:395: waitms(1000);
1204 9003E8    3148            mov     dptr,#0x03E8
1207 120100    3149            lcall   _waitms
120A           3150   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:396: PWM_TIME-=1000;
120A E5C0      3151            mov     a,_PWM_TIME
120C 2418      3152            add     a,#0x18
120E F5C0      3153            mov     _PWM_TIME,a
1210 E5C1      3154            mov     a,(_PWM_TIME + 1)
1212 34FC      3155            addc    a,#0xfc
1214 F5C1      3156            mov     (_PWM_TIME + 1),a
1216           3157   L007044?:
1216           3158   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:398: waitms(PWM_TIME);
1216 85C082    3159            mov     dpl,_PWM_TIME
1219 85C183    3160            mov     dph,(_PWM_TIME + 1)
121C 120100    3161            lcall   _waitms
121F           3162   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:399: PWM_OFF=1;
121F 750001    3163            mov     _PWM_OFF,#0x01
1222 E4        3164            clr     a
1223 F501      3165            mov     (_PWM_OFF + 1),a
1225           3166   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:400: PWM_TURN=50;
1225 75C032    3167            mov     _PWM_TURN,#0x32
1228 E4        3168            clr     a
1229 F5C1      3169            mov     (_PWM_TURN + 1),a
122B           3170   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:401: current_angle=0;
122B E4        3171            clr     a
122C F580      3172            mov     _current_angle,a
122E F581      3173            mov     (_current_angle + 1),a
1230           3174   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:402: break;
1230 020100    3175            ljmp    L007048?
1233           3176   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:403: default:
1233           3177   L007045?:
1233           3178   ;        C:\Users\Clare\OneDrive\[UBC] Undegraduate Sophomore\ELEC291 (Calvino-Fraga, Jesus)\Lab 6 - Motor Control\Program.c:405: }
1233 020100    3179            ljmp    L007048?
1236           3180            rseg R_CSEG
1236           3181   
0000           3182            rseg R_XINIT
0000           3183   
0000           3184            rseg R_CONST
0000           3185   __str_0:
0000 0A        3186            db 0x0A
0001 4B6E6F77  3187            db 'Known Values: %i current, %f ms counted, %i turn power'
     6E205661
     6C756573
     3A202569
     20637572
     72656E74
     2C202566
     206D7320
     636F756E
     7465642C
     20256920
     7475726E
     20706F77
     6572
0037 00        3188            db 0x00
0038           3189   __str_1:
0038 0A        3190            db 0x0A
0039 54696D65  3191            db 'Time per 360: %f'
     20706572
     20333630
     3A202566
0049 00        3192            db 0x00
004A           3193   __str_2:
004A 0A        3194            db 0x0A
004B 4D756C74  3195            db 'Multiple of 360: %f'
     69706C65
     206F6620
     3336303A
     202566
005E 00        3196            db 0x00
005F           3197   __str_3:
005F 0A        3198            db 0x0A
0060 616E676C  3199            db 'angle_change: %f'
     655F6368
     616E6765
     3A202566
0070 00        3200            db 0x00
0071           3201   __str_4:
0071 1B        3202            db 0x1B
0072 5B324A    3203            db '[2J'
0075 00        3204            db 0x00
0076           3205   __str_5:
0076 57656C63  3206            db 'Welcome to the motor controller! Please pick from the severa'
     6F6D6520
     746F2074
     6865206D
     6F746F72
     20636F6E
     74726F6C
     6C657221
     20506C65
     61736520
     7069636B
     2066726F
     6D207468
     65207365
     76657261
00B2 6C206D6F  3207            db 'l modes below:'
     64657320
     62656C6F
     773A
00C0 00        3208            db 0x00
00C1           3209   __str_6:
00C1 0A        3210            db 0x0A
00C2 28302920  3211            db '(0) - Stop the Motor Controller'
     2D205374
     6F702074
     6865204D
     6F746F72
     20436F6E
     74726F6C
     6C6572
00E1 00        3212            db 0x00
00E2           3213   __str_7:
00E2 0A        3214            db 0x0A
00E3 28312920  3215            db '(1) - Turn Counter-Clockwise at maximum speed'
     2D205475
     726E2043
     6F756E74
     65722D43
     6C6F636B
     77697365
     20617420
     6D617869
     6D756D20
     73706565
     64
0110 00        3216            db 0x00
0111           3217   __str_8:
0111 0A        3218            db 0x0A
0112 28322920  3219            db '(2) - Turn Clockwise at maximum speed'
     2D205475
     726E2043
     6C6F636B
     77697365
     20617420
     6D617869
     6D756D20
     73706565
     64
0137 00        3220            db 0x00
0138           3221   __str_9:
0138 0A        3222            db 0x0A
0139 28332920  3223            db '(3) - Turn at variable speed and time'
     2D205475
     726E2061
     74207661
     72696162
     6C652073
     70656564
     20616E64
     2074696D
     65
015E 00        3224            db 0x00
015F           3225   __str_10:
015F 0A        3226            db 0x0A
0160 28342920  3227            db '(4) - Turn at variable speed and angle'
     2D205475
     726E2061
     74207661
     72696162
     6C652073
     70656564
     20616E64
     20616E67
     6C65
0186 00        3228            db 0x00
0187           3229   __str_11:
0187 0A        3230            db 0x0A
0188 28352920  3231            db '(5) - DJ/Screenwiper mode'
     2D20444A
     2F536372
     65656E77
     69706572
     206D6F64
     65
01A1 00        3232            db 0x00
01A2           3233   __str_12:
01A2 0A        3234            db 0x0A
01A3 28362920  3235            db '(6) - Python Angle'
     2D205079
     74686F6E
     20416E67
     6C65
01B5 00        3236            db 0x00
01B6           3237   __str_13:
01B6 0A        3238            db 0x0A
01B7 28392920  3239            db '(9) - Reset, the Motor Controller'
     2D205265
     7365742C
     20746865
     204D6F74
     6F722043
     6F6E7472
     6F6C6C65
     72
01D8 00        3240            db 0x00
01D9           3241   __str_14:
01D9 0A        3242            db 0x0A
01DA 0A        3243            db 0x0A
01DB 456E7465  3244            db 'Enter mode: '
     72206D6F
     64653A20
01E7 00        3245            db 0x00
01E8           3246   __str_15:
01E8 202569    3247            db ' %i'
01EB 00        3248            db 0x00
01EC           3249   __str_16:
01EC 0A        3250            db 0x0A
01ED 43757272  3251            db 'Current angle: %i'
     656E7420
     616E676C
     653A2025
     69
01FE 00        3252            db 0x00
01FF           3253   __str_17:
01FF 0A        3254            db 0x0A
0200 456E7465  3255            db 'Enter 1 for clockwise, 0 for counterclockwise(default): '
     72203120
     666F7220
     636C6F63
     6B776973
     652C2030
     20666F72
     20636F75
     6E746572
     636C6F63
     6B776973
     65286465
     6661756C
     74293A20
0238 00        3256            db 0x00
0239           3257   __str_18:
0239 0A        3258            db 0x0A
023A 456E7465  3259            db 'Enter turn speed (0 to 10): '
     72207475
     726E2073
     70656564
     20283020
     746F2031
     30293A20
0256 00        3260            db 0x00
0257           3261   __str_19:
0257 0A        3262            db 0x0A
0258 456E7465  3263            db 'Enter time: '
     72207469
     6D653A20
0264 00        3264            db 0x00
0265           3265   __str_20:
0265 0A        3266            db 0x0A
0266 456E7465  3267            db 'Enter angle: '
     7220616E
     676C653A
     20
0273 00        3268            db 0x00
0274           3269   __str_21:
0274 0A        3270            db 0x0A
0275 0A        3271            db 0x0A
0276 0A        3272            db 0x0A
0277 0A        3273            db 0x0A
0278 5761726E  3274            db 'Warning! There is no return from disco mode.'
     696E6721
     20546865
     72652069
     73206E6F
     20726574
     75726E20
     66726F6D
     20646973
     636F206D
     6F64652E
02A4 00        3275            db 0x00
02A5           3276   __str_22:
02A5 0A        3277            db 0x0A
02A6 7B202054  3278            db '{  To back out, enter speed -1'
     6F206261
     636B206F
     75742C20
     656E7465
     72207370
     65656420
     2D31
02C4 00        3279            db 0x00
02C5           3280   __str_23:
02C5 0A        3281            db 0x0A
02C6 7C202046  3282            db '|  Fun mode is also available by entering -2!'
     756E206D
     6F646520
     69732061
     6C736F20
     61766169
     6C61626C
     65206279
     20656E74
     6572696E
     67202D32
     21
02F3 00        3283            db 0x00
02F4           3284   __str_24:
02F4 0A        3285            db 0x0A
02F5 7C2020    3286            db '|  '
02F8 0A        3287            db 0x0A
02F9 7C20204F  3288            db '|  Once dancing, always dancing! Have fun!'
     6E636520
     64616E63
     696E672C
     20616C77
     61797320
     64616E63
     696E6721
     20486176
     65206675
     6E21
0323 00        3289            db 0x00
0324           3290   __str_25:
0324 0A        3291            db 0x0A
0325 20537065  3292            db ' Speed? (0 to 1000)'
     65643F20
     28302074
     6F203130
     303029
0338 0A        3293            db 0x0A
0339 00        3294            db 0x00
033A           3295   __str_26:
033A 20204449  3296            db '  DISCO **'
     53434F20
     2A2A
0344 00        3297            db 0x00
0345           3298   __str_27:
0345 0A        3299            db 0x0A
0346 52657365  3300            db 'Resetting . . .'
     7474696E
     67202E20
     2E202E
0355 00        3301            db 0x00
0356           3302   
002E           3303            CSEG
002E           3304   
002E           3305   end
